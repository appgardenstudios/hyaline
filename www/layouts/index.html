{{ define "main" }}
<!-- Hero Section -->
<section class="py-16 md:py-24 bg-white">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
      <div class="w-full mb-12">
        {{ readFile "static/images/infographic.svg" | safeHTML }}
      </div>
      <h1 class="text-4xl md:text-5xl font-bold text-center text-gray-900 mb-6">
        Your documentation <span class="text-blue-600">made useful</span>
      </h1>
      <p class="text-xl text-center text-gray-600 mb-8 max-w-2xl mx-auto">
        Hyaline keeps your documentation updated and accessible to both humans
        and AI tools.
      </p>
      <div class="flex justify-center gap-4">
        <a
          href="/download"
          class="px-8 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
          >Get Started</a
        >
      </div>
    </div>
  </div>

  <div class="px-4 sm:px-6 lg:px-8 mt-16">
    <div class="container mx-auto max-w-2xl">
      {{ partial "render-video.html" (dict "id" "overview-video" "image"
      "static/images/problem.svg" "video"
      "https://www.youtube.com/embed/8kzHXzhKA0A?autoplay=1") }}
    </div>
  </div>
</section>

<section id="learn-more" class="py-16 md:py-24 bg-gray-100">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16 fade-in">
      <h2 class="text-4xl md:text-5xl font-bold mb-6">How does it work?</h2>
    </div>

    <div
      class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-16 max-w-5xl mx-auto"
    >
      <div class="lg:col-span-1">
        <div
          class="space-y-2"
          id="tabs-container"
          role="tablist"
          aria-label="Product features"
        >
          <!-- Tab 1 -->
          <div
            class="p-4 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-102 aria-selected:bg-blue-600 aria-selected:text-white aria-selected:shadow-lg aria-[selected='false']:bg-white aria-[selected='false']:hover:bg-gray-100 aria-[selected='false']:text-gray-800 aria-[selected='false']:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            id="tab-1"
            role="tab"
            aria-selected="true"
            aria-controls="panel-1"
            tabindex="0"
          >
            <div class="flex items-center">
              <div
                class="w-10 h-10 rounded-full flex items-center justify-center mr-4 aria-selected:bg-white/20 aria-[selected='false']:bg-white"
              >
                <div
                  class="aria-selected:text-white aria-[selected='false']:text-blue-600"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M18 8.5L5.9999 8.4999"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M21 12.5L3 12.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M16 21.5L16 15.5M16 15.5L18 17.5M16 15.5L14 17.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M12 8.5L12 2.5M12 2.5L14 4.5M12 2.5L10 4.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 21.5L8 15.5M8 15.5L10 17.5M8 15.5L6 17.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
              </div>
              <h3 class="text-lg font-semibold">Extract</h3>
            </div>
          </div>

          <!-- Tab 2 -->
          <div
            class="p-4 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-102 aria-selected:bg-blue-600 aria-selected:text-white aria-selected:shadow-lg aria-[selected='false']:bg-white aria-[selected='false']:hover:bg-gray-100 aria-[selected='false']:text-gray-800 aria-[selected='false']:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            id="tab-2"
            role="tab"
            aria-selected="false"
            aria-controls="panel-2"
            tabindex="-1"
          >
            <div class="flex items-center">
              <div
                class="w-10 h-10 rounded-full flex items-center justify-center mr-4 aria-selected:bg-white/20 aria-[selected='false']:bg-white"
              >
                <div
                  class="aria-selected:text-white aria-[selected='false']:text-blue-600"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M19 19.1414C17.1962 20.9097 14.7255 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C14.7974 2 17.3265 3.14864 19.1414 5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 15C8.91212 16.2144 10.3643 17 12 17C12.7111 17 13.3875 16.8515 14 16.5839"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8.00897 9L8 9"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M22 15L22 15M22 18L22 18M22 21L22 21"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle
                      cx="16"
                      cy="10"
                      r="3"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M22 12C21.7927 11.6041 21.689 11.4062 21.552 11.2328C21.2015 10.7894 20.6784 10.4407 20.0558 10.2354C19.8124 10.1551 19.5416 10.1034 19 10"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
              </div>
              <h3 class="text-lg font-semibold">Reference</h3>
            </div>
          </div>

          <!-- Tab 3 -->
          <div
            class="p-4 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-102 aria-selected:bg-blue-600 aria-selected:text-white aria-selected:shadow-lg aria-[selected='false']:bg-white aria-[selected='false']:hover:bg-gray-100 aria-[selected='false']:text-gray-800 aria-[selected='false']:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            id="tab-3"
            role="tab"
            aria-selected="false"
            aria-controls="panel-3"
            tabindex="-1"
          >
            <div class="flex items-center">
              <div
                class="w-10 h-10 rounded-full flex items-center justify-center mr-4 aria-selected:bg-white/20 aria-[selected='false']:bg-white"
              >
                <div
                  class="aria-selected:text-white aria-[selected='false']:text-blue-600"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M6.53792 2.32172C6.69664 1.89276 7.30336 1.89276 7.46208 2.32172L8.1735 4.2443C8.27331 4.51403 8.48597 4.72669 8.7557 4.8265L10.6783 5.53792C11.1072 5.69664 11.1072 6.30336 10.6783 6.46208L8.7557 7.1735C8.48597 7.27331 8.27331 7.48597 8.1735 7.7557L7.46208 9.67828C7.30336 10.1072 6.69665 10.1072 6.53792 9.67828L5.8265 7.7557C5.72669 7.48597 5.51403 7.27331 5.2443 7.1735L3.32172 6.46208C2.89276 6.30336 2.89276 5.69665 3.32172 5.53792L5.2443 4.8265C5.51403 4.72669 5.72669 4.51403 5.8265 4.2443L6.53792 2.32172Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                    ></path>
                    <path
                      d="M14.4039 9.64136L15.8869 11.1244M6 22H7.49759C8.70997 22 9.31617 22 9.86124 21.7742C10.4063 21.5484 10.835 21.1198 11.6923 20.2625L19.8417 12.1131C20.3808 11.574 20.6503 11.3045 20.7944 11.0137C21.0685 10.4605 21.0685 9.81094 20.7944 9.25772C20.6503 8.96695 20.3808 8.69741 19.8417 8.15832C19.3026 7.61924 19.0331 7.3497 18.7423 7.20561C18.1891 6.93146 17.5395 6.93146 16.9863 7.20561C16.6955 7.3497 16.426 7.61924 15.8869 8.15832L7.73749 16.3077C6.8802 17.165 6.45156 17.5937 6.22578 18.1388C6 18.6838 6 19.29 6 20.5024V22Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    ></path>
                  </svg>
                </div>
              </div>
              <h3 class="text-lg font-semibold">Update</h3>
            </div>
          </div>
        </div>
      </div>

      <div class="lg:col-span-2 mt-8 lg:mt-0 relative">
        <div id="tab-content-container">
          <!-- Content 1 -->
          <div
            class="bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-500 ease-in-out hidden:invisible hidden:opacity-0 hidden:transform hidden:translate-y-5 hidden:absolute hidden:w-full not-hidden:visible not-hidden:opacity-100 not-hidden:transform not-hidden:translate-y-0 not-hidden:relative"
            id="panel-1"
            role="tabpanel"
            aria-labelledby="tab-1"
            tabindex="0"
          >
            {{ partial "render-video.html" (dict "id" "centralized-video"
            "image" "static/images/extract.svg" "video"
            "https://www.youtube.com/embed/ijSUNOPYPF0?autoplay=1") }}
            <div class="p-8">
              <div class="flex items-center mb-4">
                <div
                  class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-4"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 text-white"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M18 8.5L5.9999 8.4999"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M21 12.5L3 12.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M16 21.5L16 15.5M16 15.5L18 17.5M16 15.5L14 17.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M12 8.5L12 2.5M12 2.5L14 4.5M12 2.5L10 4.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 21.5L8 15.5M8 15.5L10 17.5M8 15.5L6 17.5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
                <h3 class="text-2xl font-bold text-blue-600">
                  Centralized Documentation
                </h3>
              </div>
              <p class="text-gray-600 text-lg leading-relaxed">
                Your documentation lives across repositories, wikis,
                documentation sites, internal tools, and knowledge bases.
                Hyaline extracts and unifies information from all these sources
                into a single, searchable dataset that stays current as your
                documentation is updated.
              </p>
              <a
                href="/documentation/explanation/extract-current"
                class="mt-8 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer inline-block"
              >
                Learn more
              </a>
            </div>
          </div>

          <!-- Content 2 -->
          <div
            class="bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-500 ease-in-out hidden:invisible hidden:opacity-0 hidden:transform hidden:translate-y-5 hidden:absolute hidden:w-full not-hidden:visible not-hidden:opacity-100 not-hidden:transform not-hidden:translate-y-0 not-hidden:relative"
            id="panel-2"
            role="tabpanel"
            aria-labelledby="tab-2"
            tabindex="0"
            hidden
          >
            {{ partial "render-video.html" (dict "id" "reference-video" "image"
            "static/images/mcp.svg" "video"
            "https://www.youtube.com/embed/wkAmHMq8IEc?autoplay=1") }}
            <div class="p-8">
              <div class="flex items-center mb-4">
                <div
                  class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-4"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 text-white"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M19 19.1414C17.1962 20.9097 14.7255 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C14.7974 2 17.3265 3.14864 19.1414 5"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8 15C8.91212 16.2144 10.3643 17 12 17C12.7111 17 13.3875 16.8515 14 16.5839"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8.00897 9L8 9"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M22 15L22 15M22 18L22 18M22 21L22 21"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <circle
                      cx="16"
                      cy="10"
                      r="3"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M22 12C21.7927 11.6041 21.689 11.4062 21.552 11.2328C21.2015 10.7894 20.6784 10.4407 20.0558 10.2354C19.8124 10.1551 19.5416 10.1034 19 10"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
                <h3 class="text-2xl font-bold text-blue-600">MCP Powered</h3>
              </div>
              <p class="text-gray-600 text-lg leading-relaxed">
                Hyaline provides your documentation directly to AI tools through
                an MCP server. Your AI assistants can instantly access product
                and system documentation to help you build better software
                faster.
              </p>
              <a
                href="/documentation"
                class="mt-8 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 inline-block"
              >
                Learn more
              </a>
            </div>
          </div>

          <!-- Content 3 -->
          <div
            class="bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-500 ease-in-out hidden:invisible hidden:opacity-0 hidden:transform hidden:translate-y-5 hidden:absolute hidden:w-full not-hidden:visible not-hidden:opacity-100 not-hidden:transform not-hidden:translate-y-0 not-hidden:relative"
            id="panel-3"
            role="tabpanel"
            aria-labelledby="tab-3"
            tabindex="0"
            hidden
          >
            {{ partial "render-video.html" (dict "id" "up-to-date-video" "image"
            "static/images/update.svg" "video"
            "https://www.youtube.com/embed/0J25Q2qxF_o?autoplay=1") }}
            <div class="p-8">
              <div class="flex items-center mb-4">
                <div
                  class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-4"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 text-white"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M6.53792 2.32172C6.69664 1.89276 7.30336 1.89276 7.46208 2.32172L8.1735 4.2443C8.27331 4.51403 8.48597 4.72669 8.7557 4.8265L10.6783 5.53792C11.1072 5.69664 11.1072 6.30336 10.6783 6.46208L8.7557 7.1735C8.48597 7.27331 8.27331 7.48597 8.1735 7.7557L7.46208 9.67828C7.30336 10.1072 6.69665 10.1072 6.53792 9.67828L5.8265 7.7557C5.72669 7.48597 5.51403 7.27331 5.2443 7.1735L3.32172 6.46208C2.89276 6.30336 2.89276 5.69665 3.32172 5.53792L5.2443 4.8265C5.51403 4.72669 5.72669 4.51403 5.8265 4.2443L6.53792 2.32172Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                    ></path>
                    <path
                      d="M14.4039 9.64136L15.8869 11.1244M6 22H7.49759C8.70997 22 9.31617 22 9.86124 21.7742C10.4063 21.5484 10.835 21.1198 11.6923 20.2625L19.8417 12.1131C20.3808 11.574 20.6503 11.3045 20.7944 11.0137C21.0685 10.4605 21.0685 9.81094 20.7944 9.25772C20.6503 8.96695 20.3808 8.69741 19.8417 8.15832C19.3026 7.61924 19.0331 7.3497 18.7423 7.20561C18.1891 6.93146 17.5395 6.93146 16.9863 7.20561C16.6955 7.3497 16.426 7.61924 15.8869 8.15832L7.73749 16.3077C6.8802 17.165 6.45156 17.5937 6.22578 18.1388C6 18.6838 6 19.29 6 20.5024V22Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    ></path>
                  </svg>
                </div>
                <h3 class="text-2xl font-bold text-blue-600">
                  Always Up-to-Date
                </h3>
              </div>
              <p class="text-gray-600 text-lg leading-relaxed">
                As you make changes to your systems, Hyaline automatically
                identifies which documentation needs updates. It keeps both your
                team's internal documentation and customer-facing guides
                accurate and current with your evolving codebase.
              </p>
              <a
                href="/documentation/explanation/check-change"
                class="mt-8 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer inline-block"
              >
                Learn more
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Now in Beta Section -->
<section class="py-16 md:py-24 bg-blue-900 text-white">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto text-center">
      <div
        class="inline-flex items-center px-4 py-2 bg-emerald-700 text-white text-sm font-medium rounded-full mb-8"
      >
        <svg
          class="w-4 h-4 mr-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 10V3L4 14h7v7l9-11h-7"
          ></path>
        </svg>
        Now in Beta
      </div>
      <h2 class="text-4xl md:text-5xl font-bold mb-6">
        Ready to make your documentation useful?
      </h2>
      <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
        Join our beta program and help us shape Hyaline while getting early
        access to all features.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a
          href="/download"
          class="px-8 py-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors text-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
        >
          Try it now
        </a>
      </div>
      <p class="text-sm text-gray-300 mt-6">
        Free during beta • No credit card required • Full feature access
      </p>
    </div>
  </div>
</section>

<script>
  // Tab functionality for "How does it work" section
  document.addEventListener("DOMContentLoaded", function () {
    // Tab functionality
    const tabList = document.getElementById("tabs-container");
    const tabs = Array.from(tabList.querySelectorAll('[role="tab"]'));
    const panels = document.querySelectorAll('[role="tabpanel"]');

    // Add event listeners to each tab
    tabs.forEach((tab) => {
      tab.addEventListener("click", (e) => {
        e.preventDefault();
        activateTab(tab);
      });

      // Add keyboard event listeners for accessibility
      tab.addEventListener("keydown", (e) => {
        const index = tabs.indexOf(tab);

        switch (e.key) {
          case "ArrowLeft":
            e.preventDefault();
            focusTab(index - 1 >= 0 ? index - 1 : tabs.length - 1);
            break;
          case "ArrowRight":
            e.preventDefault();
            focusTab(index + 1 < tabs.length ? index + 1 : 0);
            break;
          case "Home":
            e.preventDefault();
            focusTab(0);
            break;
          case "End":
            e.preventDefault();
            focusTab(tabs.length - 1);
            break;
          case "Enter":
          case " ":
            e.preventDefault();
            activateTab(tab);
            break;
        }
      });
    });

    // Focus and activate tab
    function focusTab(index) {
      tabs[index].focus();
      activateTab(tabs[index]);
    }

    // Activate a tab - update ARIA states and display the panel
    function activateTab(tab) {
      // Deactivate all tabs
      tabs.forEach((t) => {
        t.setAttribute("aria-selected", "false");
        t.tabIndex = -1;
      });

      // Activate the selected tab
      tab.setAttribute("aria-selected", "true");
      tab.tabIndex = 0;

      // Hide all panels
      panels.forEach((panel) => {
        panel.hidden = true;
      });

      // Show the selected panel
      const panelId = tab.getAttribute("aria-controls");
      const panel = document.getElementById(panelId);
      panel.hidden = false;
    }

    // Initialize with first tab active
    activateTab(tabs[0]);
  });
</script>
{{ end }}
