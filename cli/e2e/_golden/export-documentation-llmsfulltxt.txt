# About Hyaline
Source: document://hyaline/www/content/about.md

---
title: About Hyaline
purpose: Provide an overview of Hyaline and its purpose
---

# About Hyaline

## What is Hyaline?

Hyaline is a documentation maintenance tool that helps software development teams keep their documentation current, accurate, and accessible. It automatically identifies when code changes require documentation updates, verifies that documentation match their intended purpose, and provides seamless integration with AI development workflows.

Key capabilities include:

- **Automated change detection**: Analyzes code diffs to identify documentation that needs updates
- **Purpose validation**: Ensures your documentation actually serves its stated goals
- **AI-ready data extraction**: Makes your documentation easily accessible to AI assistants through our MCP (Model Context Protocol) server
- **Multi-source integration**: Pulls documentation from repositories, wikis, and documentation sites into a unified view

Whether you're working with Claude, GitHub Copilot, or other AI tools, Hyaline ensures they have access to your latest, most accurate documentation to help you build better software faster.

## Who Built Hyaline?

Hyaline is developed by [App Garden Studios](https://www.appgardenstudios.com/), a team of seasoned software engineers and technical leaders with decades of combined experience across startups and enterprise organizations. We've architected systems, led engineering teams, and experienced firsthand the productivity costs of outdated documentation.

Our team understands the technical challenges of maintaining documentation at scale, from monorepos to distributed microservices, and we've built Hyaline to solve these problems systematically.

## Our Vision for Hyaline

We're building the documentation tooling that modern development teams need. As AI becomes increasingly integrated into development workflows, having well-structured, accessible documentation becomes critical. Hyaline bridges this gap by:

- Enabling you to use your documentation regardless of where it's located
- Ensuring AI tools can access and utilize your documentation effectively
- Verifying that critical documentation exists and covers what your team actually needs
- Keeping documentation current so your documentation remain a reliable source of truth

Documentation should be a force multiplier for your team, not a maintenance overhead.

## How Do You Pronounce Hyaline?

We pronounce it "HIGH-uh-leen" – meaning clear and transparent, just like we want your documentation to be.

## Get in Touch

Ready to streamline your documentation workflow? Have technical questions about integration?

**Contact us**: [john@hyaline.dev](mailto:john@hyaline.dev)

# www/content/documentation/_index.md
Source: document://hyaline/www/content/documentation/_index.md

---
title: "Documentation"
description: "Documentation to understand and use Hyaline effectively"
---

# Overview
Source: document://hyaline/www/content/documentation/explanation/audit.md

---
title: "Explanation: Audit"
description: Learn how Hyaline audits documentation for compliance with rules and checks
purpose: Explain how Hyaline audits documentation against configurable rules to ensure compliance
---
## Overview

<div class="portrait">

![Overview](./_img/hyaline-audit.svg)

Hyaline has the ability to audit your current set of documentation based on a set of rules and checks. Using Hyaline, you can ensure that your documentation contains the information necessary to comply with industry regulations or internal compliance rules. You can also check for consistency in documentation across all of your products and systems.

In this example, the current documentation (optionally filtered by specific sources) and the audit rules from your configuration file are provided as inputs to the audit command. The audit process evaluates each rule against the matching documentation. Hyaline uses an AI/LLM to perform qualitative checks, such as whether the documentation matches its intended purpose or a custom provided prompt.

The results of this audit, including the results of all checks that were preformed, are then output as a JSON file.

</div>

## Rules
Hyaline uses audit rules defined in the configuration file to determine what documentation to audit and what checks to perform. You can define multiple rules, and each rule can target specific documentation using filters and apply multiple checks.

<div class="code-example">

```yml
audit:
  rules:
    - id: "content-exists-check"
      description: "Check that content exists and has a purpose"
      documentation:
        - source: "**/*"
          document: "README.md"
      ignore:
        - source: "internal"
      checks:
        content:
          exists: true
          min-length: 100
        purpose:
          exists: true
```
</div>

In the example above, the audit rule `content-exists-check` targets the `README.md` document for all sources except for `internal` and performs three checks: verify the content exists, ensure it meets a minimum length of 100 characters, and confirm a purpose is defined.

## Checks
Hyaline supports several types of checks that can be applied to documentation. These checks fall into three categories: "content checks" for validating documentation structure and content, "purpose checks" for ensuring documentation purposes are correct, and "tag checks" for verifying documents and sections have the right tags.

### Content Checks
Content checks validate the existence, structure, and content of documentation.

#### Content Exists
Verifies that documentation matching the specified filters exists. This check is useful for ensuring required documentation is present.

<div class="code-example">

```yml
audit:
  rules:
    - id: "required-docs"
      description: "Ensure critical docs exist"
      documentation:
        - source: "**/*"
          document: "README.md"
      checks:
        content:
          exists: true
```

</div>

This example checks that a README.md file exists in all sources. The check passes if at least one document matches the filters.

#### Content Min Length
Validates that documentation content meets a minimum length requirement in characters. This helps ensure documentation provides sufficient detail.

<div class="code-example">

```yml
audit:
  rules:
    - id: "sufficient-content"
      description: "Ensure docs are detailed enough"
      documentation:
        - source: "api"
          document: "**/*.md"
      checks:
        content:
          min-length: 500
```

</div>

This example ensures all markdown files in the "api" source contain at least 500 characters. Documentation shorter than this will fail the check.

#### Content Matches Regex
Validates documentation content against a regular expression pattern. This is useful for ensuring specific information or formatting is present.

<div class="code-example">

```yml
audit:
  rules:
    - id: "installation-instructions"
      description: "Ensure install steps are present"
      documentation:
        - source: "**/*"
          document: "README.md"
      checks:
        content:
          matches-regex: "(?i)(install|setup|getting.started)"
```

</div>

This example verifies that README files contain installation-related keywords (case-insensitive). Documentation that doesn't match the regex will fail the check.

#### Content Matches Prompt
Uses an LLM to validate content against a custom prompt or criteria. This provides flexible validation for complex requirements that cannot be expressed with simple rules.

<div class="code-example">

```yml
audit:
  rules:
    - id: "security-guidelines"
      description: "Ensure security best practices"
      documentation:
        - source: "security"
          document: "**/*.md"
      checks:
        content:
          matches-prompt: "Does this document contain specific security guidelines for handling user data?"
```

</div>

This example uses an LLM to evaluate whether security documentation adequately covers user data handling guidelines. The LLM provides a reason for its pass/fail decision.

#### Content Matches Purpose
Uses an LLM to verify that documentation content aligns with its stated purpose. This ensures documentation actually serves its intended function.

<div class="code-example">

```yml
audit:
  rules:
    - id: "purpose-alignment"
      description: "Ensure content matches purpose"
      documentation:
        - source: "**/*"
          document: "**/*.md"
      checks:
        content:
          matches-purpose: true
```

</div>

This example uses an LLM to verify that the actual content of each document aligns with its stated purpose. The LLM provides a reason for its pass/fail decision.

### Purpose Checks
Purpose checks ensure that documentation has a defined purpose. Purposes help ensure documentation serves a clear function and can be maintained effectively.

#### Purpose Exists
Validates that documentation has a defined purpose. 

<div class="code-example">

```yml
audit:
  rules:
    - id: "documented-purposes"
      description: "Ensure all docs have purposes"
      documentation:
        - source: "**/*"
          document: "**/*.md"
      checks:
        purpose:
          exists: true
```

</div>

This example ensures all markdown files have a defined purpose. Documentation without a purpose statement will fail this check.

### Tag Checks
Tag checks validate the presence and values of metadata tags on documentation. Tags are used for categorization, compliance tracking, and filtering, making these checks essential for maintaining organized and compliant documentation.

#### Tags Contains
Validates that required tags are present on documentation. Tag keys and values can be specified as a regex pattern.

<div class="code-example">

```yml
audit:
  rules:
    - id: "compliance-tags"
      description: "Ensure compliance metadata"
      documentation:
        - source: "**/*"
          document: "**/*.md"
      checks:
        tags:
          contains:
            - key: "compliance"
              value: "required"
            - key: "reviewed"
              value: "true"
```

</div>

This example verifies that documents have both a "compliance: required" tag and a "reviewed: true" tag. Both tags must be present for the check to pass.

## Results

Once Hyaline completes the audit, it generates a JSON file containing detailed results for each rule and check. The results provide information about what passed, what failed, and why.

For detailed information about the results schema, see the [Audit Results Reference](../reference/audit-results.md).

# Overview
Source: document://hyaline/www/content/documentation/explanation/check.md

---
title: "Explanation: Check"
description: Learn how Hyaline analyzes code changes to identify documentation that needs updating
purpose: Explain how Hyaline checks for what documentation needs to be updated
---
## Overview

<div class="portrait">

![Overview](./_img/check-overview.svg)

Hyaline has the ability to check code changes and recommend documentation updates based on the code that was updated. To support this process Hyaline utilizes several pieces of context and configuration to provide its recommendations.

**Diff**: Hyaline examines the code that was changed and bases its documentation updates on these changes.

**Current Documentation**: Hyaline uses the set of current documentation to determine which (if any) documents should be updated.

**Pull Request and Issues**: Hyaline supports pulling in a pull request and one or more issues to provide additional context to the changes.

**Config**: Hyaline uses information from the configuration file to determine which code and documentation to consider, as well as providing the ability to directly link code and documentation through updateIf statements.

**AI/LLM**: Hyaline uses an LLM to help determine what documents should be updated for each code change by prompting it with the contents of the change, along with existing documentation and other related context.

Hyaline uses all of these resources to check either a diff (i.e. the difference between two branches of code) or the changes in a PR and determine which documents should be updated. It then formats the results of the check into a series of recommendations of which documents to examine and consider updating. Hyaline supports outputting recommendations as a JSON file (for `check pr` and `check diff` commands) as well as creating/updating a comment on the GitHub PR itself (only done on `check pr`).

</div>

## Inputs
The following are context or resources used in the Check Process.

### Diff
Hyaline uses each code file changed in a diff as an input to the recommendation process, and provides fine grained configuration that allows you to select only the relevant files to consider while excluding irrelevant files like tests or vendored dependencies.

<div class="side-by-side">

```yml
check:
  code:
    include:
      - "**/*.js"
      - "package.json"
    exclude:
      - "old/**/*"
      - "**/*.test.js"
  ...
```

![Code Diff](./_img/check-code-diff.svg)

</div>

In the example above we have a configuration that includes all `.js` files in the repository along with the `package.json` file at the root of the repository. We also exclude anything in the `old/` directory along with any test files ending with `.test.js`. Using this configuration Hyaline will examine any changes in the following files: `components/app.js`, `components/header.js`, `index.js`, and `package.json`. Note that `components/app.test.js` and `components/header.test.js` are excluded because they match the exclude glob `**/*.test.js`. Also notice that both `old/app.js` and `old/header.js` are excluded because they match the exclude glob `old/**/*`. As a final note, the file `package-lock.json` was not included because it does not match any of the include rules.


### Current Documentation
Hyaline supports the ability to specify the set of documentation that should be considered when determining what documentation may need to be updated. This can be helpful in large organizations where a particular repository only affects a single system out of many, and narrowing the set of documentation considered can provide significant speed and cost savings.

<div class="side-by-side">

```yml
check:
  ...
  documentation:
    include:
      - source: "**/*"
    exclude:
      - source: infra
        document: docs/old-*
      - source: my-app
        document: CHANGELOG.md
  ...
```

![Documentation](./_img/check-documentation.svg)

</div>

In the example above we have a configuration that includes all documentation sources, meaning Hyaline will check for needed documentation updates across all sources in the current documentation data set. It also excludes 2 sets of documentation: any documents in the `infra` source in the `docs/` folder that start with `old-` and the document `CHANGELOG.md` in the `my-app` source. Using this configuration Hyaline will consider all available documentation except `docs/old-cluster.md` (because it matched the first exclude statement) and `CHANGELOG.md` (because it matched the second statement).

### Pull Request and Issues
Hyaline supports the ability to include context from a GitHub pull request and one or more issues when determining what set of documentation may need to be updated based on a change. This can be helpful as pull requests and issues can include notes or requirements stating documentation that should be updated.

<div class="side-by-side">

```bash
$ hyaline check diff /
  ...
  --pull-request /
    appgardenstudios/hyaline-example/7 /
  --issue /
    appgardenstudios/hyaline-example/4 /
  --issue /
    appgardenstudios/hyaline-example/5 /
  ...
```

![PR and Issue Context](./_img/check-pr-and-issues.svg)

</div>

In the example above we have the hyaline command `check diff` that is passing in a pull request and two issues. The image on the right lists the available issues and pull requests in the `appgardenstudios/hyaline-example` repo on GitHub. Hyaline will pull in the titles and bodies of `Pull Request #7` and `Issues #4` and `#5` and add them to the LLM's prompt context when considering the set of documentation that may need to be updated.

### UpdateIf Rules
Hyaline supports the ability to link code directly to relevant documentation via configuration. This linking is done by specifying an updateIf condition, where if certain code is updated then a set of documentation should also be updated. This can help in instances where changes to certain files (like routes or security rules) always need to be reflected in other documentation. Hyaline supports specifying that documentation needs to be updated if files are touched, added, modified, deleted, or renamed.

<div class="side-by-side">

```yaml
check:
  options:
    updateIf:
      touched:
        - code:
            path: "src/routes.js"
          documentation:
            source: "my-app"
            document: "docs/routes.md"
```

![UpdateIf Rules](./_img/check-updateif.svg)

</div>

In the example above we have a configuration that specifies the document `docs/routes.md` should be updated any time the file `src/routes.js` is touched. Note that the documentation does not need to be in the same repository/source as the code being checked, allowing you to keep disparate documentation in sync. when Hyaline checks for which documentation may need to be updated it detects changes to the file `src/routes.js` and adds the document `docs/routes.md` in the source `my-app` to the list of recommended updates with a reason referencing the configured updateIf statement.

### LLM Prompt
Hyaline prompts an LLM to determine which pieces of documentation (if any) should be updated for a specific code change. Hyaline provides the code change, a list of document and sections (along with their purpose if available), and the pull request and issues (if provided) to the LLM to help it determine which documents and/or sections should be updated.

<div class="side-by-side">

```diff
--- src/server.js
+++ src/server.js
@@ -15,6 +15,9 @@ function serve() {
 }
 
 function isValidUrl(string) {
+  if (!string) {
+    return false;
+  }
   try {
     new URL(string);
     return true;
```

![LLM Prompt](./_img/check-prompt.svg)

</div>

In the example above we have a code file diff under examination. Hyaline provides the diff, a list of documents and sections, the pull request, and any issues provided to the LLM as context for the prompt. Then the prompt asks the LLM to use the documentation, diff, and other context to determine what documentation (if any) should be updated.

## Check Process

<div class="portrait">

![Check Process](./_img/check-process.svg)

When Hyaline performs a check on a diff or PR it collects all of the relevant context it needs, such as the list of code files that have changed and are in scope, the set of documentation to consider, and the contents of a pull request or issues. Once collected, Hyaline checks for needed documentation updates in a 3 step process:

**1: Check each Changed File** - Hyaline loops through each changed file in the diff and evaluates it to see what documentation may need to be updated. It makes a single call to an LLM passing in context and prompting it to respond with a list of documents and/or sections that may need to be updated along with the reason why. It also looks at the configuration file to see if there are any updateIf statements that apply to the changed file. The resulting set of documents and sections that may require updates is then returned.

**2: Collate the Results** - Hyaline then takes the set of documents and sections that may require updates, along with the reason(s) provided, and collates them into a single unified set of recommendations. This set  of recommendations contains a sorted list of documents and sections with the reason(s) they may need to be updated attached to each document or section.

**3: Check for Documentation Changes** - Once the set of recommendations is collated Hyaline scans the diff and updates the recommendations to mark any documents that have been changed as a part of the diff. Note that this step is only done if Hyaline is configured to do so. For more information on configuring Hyaline to detect and mark changed documents please see the configuration option `detectDocumentationUpdates` in the [configuration reference](../reference/config.md).

</div>


## Recommendations

<div class="portrait">

![Recommendations](./_img/check-recommendations.svg)

Once Hyaline has generated a set of recommendations they can either be output as a JSON file (using the `--output` option) or added as a comment to the pull request (only available for `hyaline check pr`).

For `hyaline check pr`, the `--output` option outputs the combined recommendations of the current run and previous run (if there is one). This is the same set of recommendations that is added as a comment to the pull request. In order to output the recommendations from the current `hyaline check pr` run, you can provide the `--output-current` option. Similarly, the previous recommendations can be output by providing the `--output-previous` option.

The schema for the recommendations output can be viewed [here](../reference/recommendations.md).

The comment on the pull request contains the following:

- The Git SHA of the commit that was compared
- A list of recommendations where each one has:
  - A checkbox used to indicate that the recommendation for the document/section has been addressed
  - The name of the document (and section if applicable)
  - The documentation source name
  - The list of reasons the documentation should be updated

</div>

### Pull Request Comment Updates

<div class="portrait">

![Screenshot of a Pull Request Comment](_img/check-pr-comment.png)

If `hyaline check pr` is run more than once for the same PR, Hyaline will update the previous comment instead of creating a new one. This ensures that the comment from Hyaline always stays up-to-date with the latest changes. When updating Hyaline merges the original set of recommendations with the new set as follows:

1. Any original recommendation for a document or section that does not have a corresponding match in the new set is copied over as is.
2. Any new recommendation for a document or section that does not have a corresponding match in the original set is used as is.
3. Any original recommendation for a document or section that does have a match in the new set is merged, and the new set of reasons is appended to the original set of reasons before being used.
4. The final set of recommendations is sorted by source, document, and section

Note that the state of the checkboxes are preserved, allowing you to track which recommendations have been addressed. Hyaline will automatically check the box if it detects that the document has been updated as a part of the PR (provided it is configured to perform that check).

</div>

# Overview
Source: document://hyaline/www/content/documentation/explanation/extract.md

---
title: "Explanation: Extract"
description: Learn how Hyaline extracts documentation from various sources into a unified current data set
purpose: Explain how Hyaline extracts documentation
---
## Overview

<div class="portrait">

![Overview](./_img/extract-documentation-overview.svg)

Hyaline has the ability to extract documentation into a current data set that can be used to build systems and products as well as verify that the documentation is accurate and complete.

In this example you can see documentation spread over multiple repositories and documentation sites. Hyaline can extract this documentation into a current [documentation data set](../reference/data-set.md) and make it available for use.

This documentation data set can be used in many different ways. Documentation can be [merged](./merge.md) together into a unified documentation set or used to [check](./check.md) and [audit](./audit.md) the extracted documentation. It can also be used via an [MCP server](./mcp.md) or by the organization for a variety of other purposes. 

Each repository or documentation site is considered a documentation source, or source for short. All of the documentation in a source is crawled and extracted in a single pass, and then tagged and enhanced with additional metadata. Hyaline supports a number of different crawlers and extractors to make sure you can get all of your documentation extracted and available for use.

</div>

<div class="portrait">

![Extract Phases](./_img/extract-documentation-phases.svg)

Extracting documentation is broken up into 3 distinct phases: **Crawl**, **Extract**, and **Add Metadata**.

**Crawl** is where Hyaline starts in a particular directory, repository, or website and scans it for available documentation. Each document it finds is saved off and passed to an appropriate extractor.

**Extract** is where Hyaline takes the raw document that was crawled and extracts documentation from it. Because Hyaline deals in markdown documentation, any document that is in another format is converted into markdown and stored. Once converted to markdown (if needed), Hyaline stores the document and sections in a current data set.

**Add Metadata** is where Hyaline applies additional metadata, like tags and purposes, to extracted documents and sections. This allows you to explicitly categorize and enhance the extracted documentation with information that is useful when checking, auditing, reading, or otherwise using the documentation.

</div>

## Crawling Documentation

<div class="portrait">

![Crawling Documentation](./_img/extract-documentation-crawling.svg)

Hyaline can be configured to crawl a documentation source and extract documentation. Hyaline supports a number of different crawlers, each with their own capabilities and configuration.

- **fs** - The file system crawler looks for documentation on a local filesystem.
- **git** - The git crawler looks for documentation on a specific branch or reference of a git repository.
- **http** - The http crawler looks for documentation on a local or remote http or https server.

Read more about each of these extractors and how they operate below.

</div>

### Crawling Documentation - fs

The `fs` crawler crawls a local filesystem starting at a path, and processes each document it encounters.

<div class="side-by-side">

```yml
extract:
  ...
  crawler:
    type: fs
    options:
      path: ./my-app
    include:
      - "**/*.md"
    exclude:
      - "old/**/*"
      - "LICENSE.md"
  ...
```

![Crawling Documentation - fs](./_img/extract-documentation-fs.svg)

</div>

In this example you can see that Hyaline is configured to start crawling in the `./my-app` directory and process any documents that match `**/*.md`. Hyaline processes all of the markdown documents in the `contributing/` directory and `src/` directory. Hyaline does not process the markdown file in the `old/` directory as everything in that directory is excluded. Hyaline also processes the `README.md` file at the root of the path but does not process the `License.md` file as that file is excluded.

### Crawling Documentation - git

The `git` crawler crawls a git repository starting at its root, and processes each document it encounters.

<div class="side-by-side">

```yml
extract:
  ...
  crawler:
    type: git
    options:
      repo: git@github.com:o/my-app.git
      clone: true
      branch: main
    include:
      - "**/*.md"
    exclude:
      - "internal/old.md"
      - "releases/2021*"
  ...
```

![Crawling Documentation - git](./_img/extract-documentation-git.svg)

</div>

In this example you can see that Hyaline is configured to clone the remote repo `git@github.com:o/my-app.git` into memory and process any documents on branch `main` that match `**/*.md`. Hyaline processes the documents `cmd/env.md`, `internal/arch.md`, and `README.md` as they match the include. It does not process `internal/old.md` as that document is explicitly excluded. It also only processes documents in the release directory that do not start with `2021` as those document are excluded.

### Crawling Documentation - http

The `http` crawler crawls an HTTP or HTTPS website starting at a configured starting url, and processes each document it encounters.

<div class="side-by-side">

```yml
extract:
  ...
  crawler:
    type: http
    options:
      baseUrl: https://my-app.com/docs/
    include:
      - "**/*"
    exclude:
      - "roadmap"
  ...
```

![Crawling Documentation - http](./_img/extract-documentation-http.svg)

</div>

In this example you can see that Hyaline calculates a starting url of `https://my-app.com/docs/` based off of the `baseUrl` and an optional `start` path (not shown here). Hyaline then starts crawling at `https://my-app.com/docs/` and processes any documents that match `**/*`. Note that the include and exclude glob matching is scoped to the `baseUrl`. Hyaline processes the linked documents in the `/docs/` directory with the exception of `/docs/roadmap` (which is excluded). Also note that even though the document `/docs/getting-started` links to `/contact`, `/contact` is not processed as it does not match any include statements.

Note that Hyaline will not crawl outside of the specified domain, so you don't need to worry about it getting lost in the internet.

Also note that you can configure the `baseURL` independently of the starting URL. Please see the [extract config documentation](../reference/config.md) for more information.

## Extracting Documentation

<div class="portrait">

![Extracting Documentation](./_img/extract-documentation-extracting.svg)

Hyaline can be configured to extract documentation differently based on the type of documentation encountered. Hyaline supports a number of different extractors, each with their own capabilities and configuration.

- **md** - The markdown extractor handles raw markdown documents
- **html** - The html extractor converts html to markdown before extracting the document and section(s)

Note that the first matching extractor is used for each document, allowing you to extract multiple different document formats from the same source in a single pass.

</div>

### Extracting Documentation - md

The `markdown` extractor extracts markdown documents.

<div class="side-by-side">

```yml
extract:
  ...
  extractors:
    - type: md
      include:
        - "**/*.md"
  ...
```

![Extracting Documentation - md](./_img/extract-documentation-md.svg)

</div>

In this example you can see the markdown document being extracted into a document and its sections based on the configured extractor.


### Extracting Documentation - html

The `html` extractor extracts html documents by extracting the content of the documentation and transforming it into markdown.

<div class="side-by-side">

```yml
extract:
  ...
  extractors:
    - type: html
      options:
        selector: main
      include:
        - "**/*"
  ...
```

![Extracting Documentation - html](./_img/extract-documentation-html.svg)

</div>

In this example you can see an html document being extracted into a document and its sections. Hyaline is configured to select just the html in the `main` tag, which is then transformed into markdown and stored as a document and sections.

### A Note on Sections

Hyaline scans the markdown document and extracts any sections it encounters. It identifies each section by name, and preserves any section level hierarchy it finds when saving the sections to the data set.

Note that when Hyaline stores the ID of the section it replaces any "/" characters with "_". Hyaline uses "/" when generating an ID for a sub-section, as the ID includes the name(s) of the parent sections as well as the name of the sub-section (e.g. `Section 1/Section 1.1`).

## Adding Metadata

<div class="portrait">

![Adding Metadata](./_img/extract-documentation-metadata.svg)

Hyaline can be configured to add tags and purposes to each document and section that is extracted.

**Tags** are key-value pairs that can be associated with a document or section and then used for filtering and retrieval when checking, referencing, or otherwise using the documentation.

**Purpose** is the declared purpose of the document. It is used when checking which documentation needs to be updated for a particular code change, as it is typically a better indicator of what the document or section is intended to contain as compared to the contents itself (which may be out of date, incomplete, or entirely absent).

</div>

### Adding Metadata - Purpose

Purpose can be added to each matching document and/or section for later use.

<div class="side-by-side">

```yml
extract:
  ...
  metadata:
    - document: "Document 1"
      purpose: ABC
    - document: "Document 2"
      section: "Section 1"
      purpose: XYZ
  ...
```

![Adding Metadata - Purpose](./_img/extract-documentation-purpose.svg)

</div>

In this example you can see a set of documents that have been extracted. Based on the configuration `Document 1` has its purpose set to `ABC`, and `Document 2 > Section 1` has its purpose set to `XYZ`.

### Adding Metadata - Tags

Tags can be added to each matching document and/or section for later use.

<div class="side-by-side">

```yml
extract:
  ...
  metadata:
    - document: "**/*"
      tags:
        - key: system
          value: my-app
    - document: "Document 1"
      section: "Section 2"
      tags:
        - key: component
          value: fe
  ...
```

![Adding Metadata - Tags](./_img/extract-documentation-tags.svg)

</div>

In this example you can see a document that have been extracted. Based on the configuration `Document 1` has the tag `system` set to `my-app`, and `Document 1 > Section 2` has the tag `component` set to `fe`. Note that you can set as many tags on each document and/or section as you wish.

## Next Steps
Read on about how [checking documentation](./check.md) works, or visit the [configuration reference documentation](../reference/config.md) to see how to configure Hyaline to extract your documentation.

# Introduction
Source: document://hyaline/www/content/documentation/explanation/hyaline.md

---
title: "Explanation: Hyaline"
description: Learn about Hyaline's architecture, workflow, and how it helps teams maintain documentation alongside their code
purpose: Explain the overall data flow and architecture of Hyaline
---
## Introduction
Hyaline is intended to help software development teams use their documentation to build and maintain their products. To that end Hyaline has two primary objectives: 1) help teams create, update, and maintain their documentation so that they can 2) use their documentation to create, maintain, and ship their products.

## Use Cases
To help you understand a bit more about what Hyaline does and does not do, consider the following:

**Use cases that Hyaline is intended to support**:
* Identify documentation that needs to be updated when a software change is implemented - Hyaline can examine your code changes and help identify what documentation needs to be updated and why
* Identify documentation that does not match its intended purpose or is incomplete - Hyaline can scan your existing documentation and ensure that each document and section matches your intended purpose and is complete.
* Ensure that certain documentation, including documentation that is required for regulatory or compliance purposes, is consistently created and maintained - Hyaline can be configured to use centralized rules to ensure certain documentation is present and updated across all of your products and systems.
* Allow an LLM to scan, search, and use your documentation to help you build your product(s) - Hyaline extracts and indexes all of your documentation, and makes that information available through an [MCP server](./mcp.md).

**Use cases that Hyaline is not intended to support**:
* Creating and/or updating documentation without human involvement - Hyaline is intended to _augment_ team members, not replace them.
* Extracting or storing 3rd party documentation such as API/Library documentation.

## Workflow

<div class="portrait">

![Workflow](./_img/hyaline-workflow.svg)

In this workflow people, assisted by AI, build products and systems. While doing so they create and update documentation. That documentation is then read and used by people to build products and systems, and the cycle continues. Hyaline sits in between people/AI and documentation, and is intended to assist in both creating/updating documentation and reading/using documentation to build products and systems.

</div>

## Extract
<div class="portrait">

![Extract](./_img/hyaline-extract.svg)

Hyaline has the ability to [extract documentation](./extract.md) from many different types of repositories and documentation sites. It supports extracting from local file systems, local or remote git repositories, and HTTP or HTTPS websites.

Each set of extracted documentation is considered a documentation source, and is stored by Hyaline in [an SQLite database](../reference/data-set.md). You can extract and store as many documentation sources as you wish, and each documentation source can be assigned metadata and tagged during the extraction process. Hyaline also separates out sections within a document, letting you be granular when using or updating each piece of documentation. 

This extracted documentation can be [merged](merge.md) into a single current documentation data set and used for a variety of purposes including: [checking code changes](./check.md) to determine what documentation may need to be updated, [auditing](./audit.md) the organization's documentation for compliance with regulations or internal processes, or using the documentation to develop products and systems via an [MCP server](./mcp.md).

However it is used, the documentation extracted by Hyaline helps you both use your documentation and keep it up to date.

</div>

## Check

<div class="portrait">

![Check](./_img/hyaline-check.svg)

Hyaline has the ability to [check](./check.md) code changes and recommend documentation updates based on the code that was updated. To support this process Hyaline utilizes several resources to provide recommendations:

**Code Diffs**: Hyaline examines each piece of code that was changed to determine what documentation may need to be updated based on each change.

**Current Documentation**: Hyaline uses the entire set of current documentation when determining which documentation may need to be updated for a code change.

**Pull Request and Issues**: Hyaline can pull in a pull request and one or more issues to provide additional context when evaluating potential documentation updates.

**Configuration**: Hyaline provides fine-grained control over what code and documentation to consider, and provides the ability to directly link code to relevant documentation using “Update If” statements.

**AI/LLMs**: Hyaline uses an LLM to help determine what documents should be updated for each code change. This information goes from you to your configured LLM directly, and we do not see or process your code or documentation in any way.

Hyaline supports checking the difference between two local branches or the code changes in a PR. It can be configured to run locally or in a CI process such as GitHub Actions to provide critical insight into what documentation may need to be updated across your organization.

However you choose to configure Hyaline, it helps you keep your documentation accurate and up-to-date.

</div>

## Audit

<div class="portrait">

![Audit](./_img/hyaline-audit.svg)

Hyaline has the ability to audit your current set of documentation based on a set of rules and checks. Using Hyaline, you can ensure that your documentation contains the information necessary to comply with industry regulations or internal compliance rules. You can also check for consistency in documentation across all of your products and systems.

It is up to you to decide what and when to audit, but when you do Hyaline is there to help.

</div>

## MCP

<div class="portrait">

![MCP](./_img/hyaline-mcp.svg)

Hyaline comes with a built-in MCP server that makes your documentation available to LLM models via the [Model Context Protocol](https://modelcontextprotocol.io/) (MCP). MCP is a standardized mechanism to provide LLMs and AI systems the context they need to do their job.

To use Hyaline's MCP server you first use Hyaline to [extract](./extract.md) and [merge](./merge.md) all of your organization's documentation into a documentation data set. Once complete, you then install Hyaline’s MCP server in your host of choice (i.e. Claude Desktop) and configure Hyaline to use your current documentation data set. Once installed, your AI assistant has the ability to list and retrieve all of your organization's documentation. Then, when you ask your LLM to complete a task that requires documentation, your LLM can use the tools exposed by Hyaline's MCP server to list and retrieve relevant documentation.

Regardless of the type of documentation your organization maintains, Hyaline can help you use that documentation when leveraging AIs and LLMs to help build products and systems.

</div>

## Next Steps
Continue reading about various Hyaline concepts such as [extract](./extract.md), or get started by visiting [getting started](../getting-started.md).

# Overview
Source: document://hyaline/www/content/documentation/explanation/mcp.md

---
title: "Explanation: MCP"
description: Learn how Hyaline's MCP server provides documentation access to LLMs
purpose: Explain how Hyaline's MCP server works
---
## Overview

<div class="portrait">

![Overview](_img/mcp-overview.svg)

Hyaline has a built-in MCP server that can make your documentation available to LLM models via the [Model Context Protocol](https://modelcontextprotocol.io/introduction) (MCP). First, you use Hyaline to [extract](./extract.md) all of your documentation into a documentation data set. This data set is stored in an SQLite database and can be sent, shared, or used independently of Hyaline if you wish. The data set can also be [merged](./merge.md) with other data sets to combine documentation from multiple sources. Once the documentation data set is complete, you install Hyaline's MCP server in your host of choice (i.e. Claude Desktop) and point Hyaline to that data set. Once configured, your AI assistant will have the ability to list and retrieve all of your documentation that is stored in your documentation data set. Then, when you ask your LLM to complete a task that requires documentation, your LLM can use the tools exposed by the MCP server via the host to list and retrieve relevant documentation.

Please visit the [MCP reference](../reference/mcp.md) for more detailed information on the tools made available by the MCP server.

</div>

## Concepts

### Organization

Hyaline extracts and stores documentation organized by documentation sources. For example, the documentation sources could include 1) the development oriented documentation checked into the repository alongside the code (README and other markdown files), 2) operations oriented documentation stored in an internal wiki, 3) customer focused documentation stored on a website, etc...

Inside each documentation source is a set of documents. A document is either a single markdown file or html page that was discovered and saved during the extraction process. Additionally, Hyaline parses each document and extracts the section hierarchy, meaning that Hyaline can reference not just a specific document but also specific sections within the document.

<div class="portrait">

![URIs](_img/mcp-uri.svg)

### URIs

Hyaline constructs a URI to identify each extracted document and section. The format of the URI is `document://<source-id>/<document-id>[#<section>]` and is constructed as follows:

- `<source-id>` is the globally unique ID of the documentation source as defined when extraction took place
- `<document-id>` is the relative path of the document from the root of the extraction and may contain one or more path delimiters
- `<section>` is optional and contains the name of the section. For sub-sections, the name of each parent section is prepended and separated by `/` (e.g. `#section1/subsection2`)

</div>

<div class="portrait">

![URIs](_img/mcp-filtering.svg)

### Filtering

The MCP server supports two types of filtering:

#### Prefix Filtering
When you provide a partial URI path, the server will return all documents that match the prefix. For example:
- `document://product-docs` returns all documents in the "product-docs" source
- `document://api-docs` returns all documents in the "api-docs" source

#### Tag Filtering
Documents and sections can have tags associated with them. You can filter results by including query parameters in the URI:

- **Multiple values for the same tag**: When you specify multiple comma-separated values for the same tag key (e.g., `?audience=user,admin`), documents that have ANY of those tag values will be included
- **Multiple tags**: When you specify multiple different tags (e.g., `?audience=user,admin&level=beginner`), documents must match at least one value for EACH tag to be included

Example filtering URIs:
- `document://product-docs?audience=user` - returns documents tagged with an "audience" of "user"
- `document://product-docs?audience=user,admin` - returns documents tagged with an "audience" of either "user" OR "admin"
- `document://product-docs?audience=user,admin&level=beginner` - returns documents tagged with an audience of either "user" OR "admin" AND a level of "beginner"

</div>

## Next Steps
You can go read the [MCP reference](../reference/mcp.md) to see details on the tools exposed by the MCP server, or go and view the [CLI reference](../reference/cli.md) to see how to run the MCP server.

# Overview
Source: document://hyaline/www/content/documentation/explanation/merge.md

---
title: "Explanation: Merge"
description: Learn how Hyaline merges multiple documentation data sets
purpose: Explain how Hyaline merge documentation works
---
## Overview

Hyaline has the ability to merge documentation data sets together. This can be used to create a single data set containing all current documentation, or to merge newly extracted documentation into an existing data set.

Merging happens at the source level. If a source being merged in does not yet exist in the data set, the source is pulled in wholesale. If a source being merged in already exists, the documents, sections, and tags from the new source completely replace the old source.

## Example

<div class="portrait">

![Example](./_img/merge-example.svg)

In this example, we have two input databases and want to merge them into a single output database. **Input 1** contains **Source 1** and **Source 2**, each with their own documents. **Input 2** contains **Source 2** and **Source 3**, where **Source 2** has multiple documents that were not present in **Source 2** from **Input 1**.

When merging, Hyaline does the following:
- **Source 1** exists only in **Input 1**, so it's copied entirely to the output
- **Source 2** exists in both inputs, so the version from **Input 2** overwrites the version from **Input 1** (later inputs take precedence)
- **Source 3** exists only in **Input 2**, so it's copied entirely to the output

The final output database contains all three sources: **Source 1** from **Input 1**, **Source 2** from **Input 2**, and **Source 3** from **Input 2**.

</div>

# What You'll Learn
Source: document://hyaline/www/content/documentation/getting-started.md

---
title: "Getting Started with Hyaline"
description: "Quick guide to install Hyaline, create configuration, extract documentation, and set up an MCP integration."
purpose: Document how to get started with Hyaline
---
Welcome to Hyaline (pronounced "HIGH-uh-leen"), a documentation tool that helps software development teams keep their documentation current, accurate, and accessible. This guide will walk you through setting up Hyaline and performing your first documentation extraction and check.

## What You'll Learn

In this guide, you'll learn how to:
- Install the Hyaline CLI
- Create a basic configuration file
- Extract your documentation
- Set up the MCP server for AI integration

## Prerequisites

- **Operating System**: Linux (64-bit), macOS, or Windows (64-bit)
- **Architecture**: AMD64 or ARM64 (ARM64 not available for Windows)
- **Documentation Source**: A documentation source (e.g. git repo, filesystem directory, website)

## Step 1: Install the Hyaline CLI

### Download the Latest Release

1. Visit the [Hyaline releases page](https://github.com/appgardenstudios/hyaline/releases)
2. Download the appropriate binary for your system:
   - **Linux AMD64**: `hyaline-linux-amd64.zip`
   - **Linux ARM64**: `hyaline-linux-arm64.zip`
   - **macOS AMD64**: `hyaline-darwin-amd64.zip`
   - **macOS ARM64**: `hyaline-darwin-arm64.zip`
   - **Windows AMD64**: `hyaline-windows-amd64.zip`

### Install the Binary

1. **Unzip the downloaded file**:
   ```bash
   $ unzip hyaline-*-*.zip
   ```

2. **Make the binary executable** (Linux/macOS only):
   ```bash
   $ chmod +x hyaline
   ```

3. **Move to your PATH** (optional but recommended):
   ```bash
   # Linux/macOS
   $ sudo mv hyaline /usr/local/bin/

   # Or add to your local bin directory
   $ mv hyaline ~/bin/
   ```

4. **Verify the installation**:
   ```bash
   $ hyaline version
   ```

For detailed installation instructions, see [How To: Install the CLI](./how-to/install-cli.md).

## Step 2: Create a Configuration File

Create a `hyaline.yml` file in your project root. Here's basic configuration to extract documentation from a typical project that has a locally checked-out git repo and `main` branch:

```yaml
extract:
  source:
    id: my-app
    description: My application documentation
  crawler:
    type: git
    options:
      path: .
      branch: main
    include:
      - "README.md"
      - "docs/**/*.md"
      - "**/*.md"
    exclude:
      - "node_modules/**/*"
      - ".git/**/*"
  extractors:
    - type: md
      include:
        - "**/*.md"
  metadata:
    - document: README.md
      purpose: Provide an overview of the project, installation instructions, and basic usage examples
    - document: docs/installation.md
      purpose: Detailed installation and setup instructions
```

### Configuration Breakdown

- **extract**: Top-level key for extraction configuration
- **source**: Metadata about the documentation source (id and description)
- **crawler**: Specifies how to crawl the documentation (git repository in this case)
- **extractors**: List of extractors to process documentation files (markdown in this case)
- **metadata**: Define purposes for specific documents

Note that the above configuration is for a simple example, but Hyaline can be configured to extract documentation from multiple systems and sources (e.g. websites, remote git repositories). For complete configuration options and details, see the [Configuration Reference](./reference/config.md).

## Step 3: Extract Documentation

Now let's extract your documentation into a data set (note that you will need to run this from the root of the documentation source):

```bash
$ hyaline extract documentation \
  --config ./hyaline.yml \
  --output ./documentation.db
```

This command will:
- Scan your repository for documentation files based on the configuration
- Extract and process them according to the defined extractors
- Store everything in a SQLite database (`documentation.db`)

For more details on how extraction works, see [Explanation: Extract](./explanation/extract.md).

## Step 4: Set Up MCP Server

To make your documentation available to AI assistants like Claude:

1. **Extract documentation** (if not already done):
   ```bash
   hyaline extract documentation --config ./hyaline.yml --output ./documentation.db
   ```

2. **Start the MCP server**:
   ```bash
   hyaline serve mcp --documentation ./documentation.db
   ```

3. **Configure your AI client** to use the MCP server. The exact steps depend on your client, but you'll typically need to add a server configuration that runs the command above.

For detailed MCP setup instructions, see [How To: Run the MCP Server](./how-to/run-mcp.md) and [MCP Reference](./reference/mcp.md).

## Next Steps
To set up GitHub Actions for automatic PR checks visit [How To: Check a PR](./how-to/check-pr.md), or see the [CLI Reference](./reference/cli.md) for complete command documentation.

# Purpose
Source: document://hyaline/www/content/documentation/how-to/build-cli.md

---
title: "How To: Build the Hyaline CLI"
description: "Build the Hyaline CLI from source using Go toolchain for custom versions or architectures."
purpose: Document how to build the Hyaline CLI
---
## Purpose
Build the hyaline cli locally or on a remote machine.

## Prerequisite(s)
* [Go Toolchain](https://go.dev/) (version 1.24+)

## Steps

### 1. Clone/Checkout Hyaline Repo
Ensure that the [Hyaline Repository](https://github.com/appgardenstudios/hyaline) is cloned and checked out to the version you wish to build.

### 2. Determine the Version
Hyaline uses the commit date and short hash to specify the version being build. This can be determined by running the following commands in the root of the repository with the desired commit checked out.

```bash
# Format: YYYY-MM-DD-HASH
DATE=`git log -n1 --pretty='%cd' --date=format:'%Y-%m-%d'`
HASH=`git rev-parse --short HEAD`
VERSION="$DATE-$HASH"
```

### 3. Run Go Build
Once the version is specified you can build hyaline using the following command (from the root of the repo):

```bash
$ go build -o ./dist/hyaline -ldflags="-X 'main.Version=$VERSION'" ./cmd/hyaline.go
```

You can specify the OS and architecture to use by setting the appropriate [GOOS/GOARCH environment variables](https://go.dev/doc/install/source#environment). For example, to build for the 64bit ARM version of MacOS:

```bash
$ GOOS=darwin GOARCH=arm64 go build -o ./dist/hyaline -ldflags="-X 'main.Version=$TAG'" ./cmd/hyaline.go
```

### 4. Test Executable
Make sure you test that the resulting executable was built sucessfully and at the right version by running:

```bash
$ ./hyaline version
```

## Next Steps
Visit [CLI Reference](../reference/cli.md).

# Purpose
Source: document://hyaline/www/content/documentation/how-to/check-pr.md

---
title: "How To: Check a PR using the Hyaline CLI"
description: "Set up GitHub Actions to automatically check documentation in pull requests using Hyaline."
purpose: How to check a PR using the Hyaline CLI
---
## Purpose
Use hyaline to check a pull request in GitHub.

## Prerequisite(s)
* A repository on GitHub with [GitHub Actions](https://github.com/features/actions) available.

## Steps

### 1. Check In Hyaline Configuration
Create a Hyaline Configuration File with [extract](../reference/config.md#extract) and [check](../reference/config.md#check) configured, and check it into your GitHub repository.

Make sure you don't check in any secrets, like the LLM Provider Key or the GitHub Token. Instead, setup the configuration to pull them from the environment.

See [config reference](../reference/config.md) for more information on creating a configuration file and referencing secrets.

### 2. Set Up Secrets
For each environment variable used in the Hyaline configuration that references a secret, set that variable up to be pulled in as a [secret in GitHub](https://docs.github.com/en/actions/security-for-github-actions/security-guides/using-secrets-in-github-actions).

### 3. Create Workflow File
Create a [GitHub Workflow](https://docs.github.com/en/actions/writing-workflows/quickstart) file to run when a pull request is updated. You can see an example file in the [GitHub Actions reference](../reference/github-actions.md).

Alternatively you could set Hyaline up to be run [manually on dispatch](https://docs.github.com/en/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow).

## Next Steps
Visit [Config Reference](../reference/config.md), [GitHub Actions Reference](../reference/github-actions.md), or [Check Explanation](../explanation/check.md).

# Purpose
Source: document://hyaline/www/content/documentation/how-to/install-cli.md

---
title: "How To: Install the Hyaline CLI"
description: "How to download, install, and set up the Hyaline CLI on Linux, macOS, or Windows."
purpose: Document how to install the Hyaline CLI
---
## Purpose
Install the Hyaline CLI.

## Prerequisite(s)
* (none)

## Steps

### 1. Determine OS and Architecture
Before starting the installation process you need to determine your operating system and architecture. Hyaline supports 64-bit Linux (`linux`), MacOS (`darwin`), and Windows (`windows`) operating systems for either `amd64` or `arm64` architectures (`amd64` only for Windows).

### 2. Download Binary
You can download the appropriate binary from the [Release Page](https://github.com/appgardenstudios/hyaline/releases) on GitHub. Just select the release you would like to use and get the link to the appropriate binary from the assets section.

Alternatively you can use the following URL template: `https://github.com/appgardenstudios/hyaline/releases/download/{RELEASE}/hyaline-{OS}-{ARCH}.zip`.

### 3. Unzip and Make Hyaline Executable
Depending on your operating system you will need to do one or more of the following:

* Unzip the downloaded executable
* Make `hyaline` executable (if applicable)
* Add `hyaline` to your PATH (if desired)

## Next Steps
Visit [How To Run the CLI](./run-cli.md) or the [CLI Reference](../reference/cli.md).

# Purpose
Source: document://hyaline/www/content/documentation/how-to/run-cli.md

---
title: "How To: Run the Hyaline CLI"
description: "Run the Hyaline CLI."
purpose: Document how to run the Hyaline CLI
---
## Purpose
Run the hyaline cli locally or on a remote machine.

## Prerequisite(s)
* [Install the CLI](./install-cli.md)

## Steps

### 1. Ensure CLI is Installed
Run `hyaline version` to ensure that the Hyaline CLI is installed and working properly.

### 2. Get Path to Config
Most commands require a hyaline configuration file. You will need to pass the path of the file in as the value of the `--config` commandline parameter. Either locate or create that configuration file now. For more information on the format of the configuration file please see the [Hyaline Config Reference](../reference/config.md).

### 3. Export Env Vars (optional)
Based on the contents of the configuration file above there may be one or more environment variables that need to be set before running Hyaline. You can find these in the config by looking for references like `${MY_VAR}`, which specifies that Hyaline should use the value of the environment variable `MY_VAR` for that key in the config.

### 4. Execute the Command
Now you can execute the hyaline command, passing in all of the required and (optionally) optional parameters. Please see [CLI Reference](../reference/cli.md) for a full list of commands and their associated options.

## Next Steps
Visit [CLI Reference](../reference/cli.md) or [How to build the CLI](./build-cli.md).

# Purpose
Source: document://hyaline/www/content/documentation/how-to/run-mcp.md

---
title: "How To: Run the Hyaline MCP Server"
description: "Configure and run the Hyaline MCP server to make documentation available to AI assistants."
purpose: Document how to run the Hyaline MCP Server
---
## Purpose
Run the hyaline mcp server locally.

## Prerequisite(s)
* [Install the CLI](./install-cli.md)

## Steps

### 1. Ensure CLI is Installed
Run `hyaline version` to ensure that the Hyaline CLI is installed and working properly.

### 2. Extract Documentation
Run `hyaline extract documentation` for each system you want to include. If you have multiple systems you can combine them into a single data set using `hyaline merge documentation`.

Place the resulting data set in a convenient location.

### 3. Add MCP Server to Client
This will vary by client, but the gist of it is you want to have the client run the command `hyaline serve mcp --documentation ./path/to/documentation-data-set.db` to start a local MCP server listening over stdio.

Please see your client documentation for specific steps.

## Next Steps
Visit the [CLI Reference](../reference/cli.md).

# Structure
Source: document://hyaline/www/content/documentation/overview.md

---
title: Overview
description: "Learn how Hyaline helps teams maintain documentation to build software products effectively."
purpose: Give an overview of Hyaline and the documentation
---
Hyaline is a tool that serves 2 primary purposes: 1) updating and maintaining documentation so that 2) documentation can be used to help build software products and systems. This body of documentation is intended to help you understand how Hyaline works and how to use Hyaline.

## Structure
This documentation follows the concepts of [Diátaxis](https://diataxis.fr/) and is structured as follows:

* How To - A series of how to guides showing how to accomplish several common goals
* Explanation - A series of documents explaining various concepts within Hyaline, including a general overview of how each Hyaline command works
* Reference - Detailed reference documentation for the various commands, options, and architectural elements of Hyaline
* Roadmap - A high-level overview of the current and future focus of Hyaline's development

## Next Steps
To learn how to get started and install Hyaline please visit [Getting Started](./getting-started.md)

For an in depth explanation of Hyaline itself please visit the [Explanation of Hyaline](./explanation/hyaline.md)

For a reference guide to the CLI please visit the [CLI Reference](./reference/cli.md)

# Overview
Source: document://hyaline/www/content/documentation/reference/audit-results.md

---
title: "Reference: Audit Results"
description: JSON output format for results produced by the audit documentation command
purpose: Detail the JSON output format for results produced by the audit documentation command
---
## Overview
This documents the results produced by the `audit documentation` command.

## JSON Format
```js
{
  "results": [
    {
      "rule": "content-exists-check",
      "description": "Check that backend documentation exists",
      "pass": true,
      "checks": [
        {
          "source": "backend",
          "document": "CHANGELOG.md",
          "uri": "document://backend/CHANGELOG.md",
          "rule": "content-exists-check",
          "check": "CONTENT_EXISTS",
          "pass": true,
          "message": ""
        }
      ]
    },
    {
      "rule": "content-length-check",
      "description": "Check that README has sufficient content",
      "pass": false,
      "checks": [
        {
          "source": "backend",
          "document": "README.md",
          "uri": "document://backend/README.md",
          "rule": "content-length-check",
          "check": "CONTENT_MIN_LENGTH",
          "pass": false,
          "message": "Content length is 277, minimum required is 10000."
        }
      ]
    }
  ]
}
```

### Fields
A list of fields, their types, and a description of each.

| Field | Type | Description |
|-------|------|-------------|
| results | Array | The array of audit rule results |
| results[n] | Object | An audit rule result |
| results[n].rule | String | The rule ID from configuration, or auto-generated if not provided |
| results[n].description | String | The rule description |
| results[n].pass | Boolean | Whether all checks in the rule passed |
| results[n].checks | Array | The array of individual check results |
| results[n].checks[n] | Object | A check result |
| results[n].checks[n].source | String | The documentation source ID |
| results[n].checks[n].document | String | The document ID |
| results[n].checks[n].section | Array OR undefined | If present, the section path |
| results[n].checks[n].section[n] | String | A section path segment |
| results[n].checks[n].uri | String | The document URI |
| results[n].checks[n].rule | String | The rule ID this check belongs to |
| results[n].checks[n].check | String | The type of check performed |
| results[n].checks[n].pass | Boolean | Whether the check passed |
| results[n].checks[n].message | String | The check message (may be empty) |

### Checks
The list of available checks, their associated config property (under `audit.rules[n]`), and a description of each.

| Check | Config Property | Description |
|-------|-----------------|-------------|
| CONTENT_EXISTS | `checks.content.exists` | Verifies that documentation matching the filter exists |
| CONTENT_MIN_LENGTH | `checks.content.min-length` | Checks if content meets the minimum length requirement |
| CONTENT_MATCHES_REGEX | `checks.content.matches-regex` | Validates content against a regular expression pattern |
| CONTENT_MATCHES_PROMPT | `checks.content.matches-prompt` | Uses an LLM to check if content matches a custom prompt |
| CONTENT_MATCHES_PURPOSE | `checks.content.matches-purpose` | Uses an LLM to verify content aligns with its stated purpose |
| PURPOSE_EXISTS | `checks.purpose.exists` | Checks that a purpose is defined for the document or section |
| TAGS_CONTAINS | `checks.tags.contains` | Verifies required tags are present |

Note: When the `CONTENT_EXISTS` check fails to find matching content, the source, document, section, and uri fields will be empty

# Overview
Source: document://hyaline/www/content/documentation/reference/cli.md

---
title: "Reference: CLI"
description: Command-line interface reference covering all commands, options, and usage examples
purpose: Detail each command/sub-command of the Hyaline CLI
---
## Overview
This documents the commandline options for the Hyaline Command Line Interface (CLI).

## Commands
The following commands and sub-commands are available within hyaline.

**Common Options**:
* `--debug` - (optional) Enables debug output

## help
`hyaline help` prints out usage information.

**Options**:
* (none)

**Example**:
```
$ hyaline help
```

## version
`hyaline version` prints out the currently installed version.

**Options**:
* (none)

**Example**:
```
$ hyaline version
```

## extract documentation
`hyaline extract documentation` extracts documentation from a documentation source. Please see the explanation for [extract](../explanation/extract.md) for more details.

**Options**:
* `--config` - (required) Path to the config file
* `--output` - (required) Path of the data set to create (file must not already exist)

**Example**:
```
$ hyaline extract documentation --config ./hyaline.yml --output ./documentation.db
```
Extract documentation from the system defined in the config file found at `./hyaline.yml` and create a current documentation dataset at `./documentation.db`.

## check diff
`hyaline check diff` checks a diff and outputs a list of recommended documentation updates.

**Options**:
* `--config` - (required) Path to the config file
* `--documentation` - (required) Path to the current documentation data set (output of `hyaline extract documentation`)
* `--path` - (optional) Path to the root of the repository to check. Defaults to `./`
* `--base` - (required if `--base-ref` is not set, mutually exclusive with `--base-ref`) Base branch (where changes will be applied). Tries to resolve to a local branch first, then a remote branch (if there is a single remote), and finally a tag
* `--base-ref` - (required if `--base` is not set, mutually exclusive with `--base`) Base reference (explicit commit hash or fully qualified reference). Passed directly to git resolution
* `--head` - (required if `head-ref` is not set, mutually exclusive with `--head-ref`) Head branch (which changes will be applied). Tries to resolve to a local branch first, then a remote branch (if there is a single remote), and finally a tag
* `--head-ref` - (required if `--head` is not set, mutually exclusive with `--head`) Head reference (explicit commit hash or fully qualified reference). Passed directly to git resolution
* `--pull-request` - (optional) GitHub Pull Request to include in the change (`<owner>/<repo>/<pr_number>`)
* `--issue` - (optional, multiple allowed) GitHub Issue to include in the change (`<owner>/<repo>/<issue_number>`). Accepts multiple issues by setting multiple times
* `--output` - (required) Path of the output file to create (file must not already exist)

**Example**:
```
$ hyaline check diff --config ./hyaline.yml --documentation ./documentation.db --path ./ --base main --head feat-1 --pull-request appgardenstudios/hyaline-example/1 --issue appgardenstudios/hyaline-example/2 --issue appgardenstudios/hyaline-example/3 --output ./recommendations.json
```
Check what documentation in `./documentation.db` should be updated based on the changes between the `main` and `feat-1` branches as well as the configuration in `./hyaline.yml`. It takes into account the contents of the pull request `appgardenstudios/hyaline-example/1` and the issues `appgardenstudios/hyaline-example/2` and `appgardenstudios/hyaline-example/3`. The set of recommendations are output to `./recommendations.json`.

**Example**:
```
$ hyaline check diff --config ./hyaline.yml --documentation ./documentation.db --path ./ --base-ref refs/heads/main --head-ref refs/remotes/origin/feat-1 --pull-request appgardenstudios/hyaline-example/1 --issue appgardenstudios/hyaline-example/2 --issue appgardenstudios/hyaline-example/3 --output ./recommendations.json
```
Check what documentation in `./documentation.db` should be updated based on the changes between the `main` and `feat-1` refs as well as the configuration in `./hyaline.yml`. It takes into account the contents of the pull request `appgardenstudios/hyaline-example/1` and the issues `appgardenstudios/hyaline-example/2` and `appgardenstudios/hyaline-example/3`. The set of recommendations are output to `./recommendations.json`.

## check pr
`hyaline check pr` checks a pull request to see what documentation may need to be updated and adds any recommendations as a comment on the PR.

**Options**:
* `--config` - (required) Path to the config file
* `--documentation` - (required) Path to the current documentation data set
* `--pull-request` - (required) GitHub Pull Request to check (`<owner>/<repo>/<pr_number>`)
* `--issue` - (optional, multiple allowed) GitHub Issue to include in the change (`<owner>/<repo>/<issue_number>`). Accepts multiple issues by setting multiple times
* `--output` - (optional) Path to write the combined (current and previous merged together) recommendations to
* `--output-current` - (optional) Path to write the current recommendations to
* `--output-previous` - (optional) Path to write the previous recommendations to

**Example**:
```
$ hyaline check pr --config ./hyaline.yml --documentation ./documentation.db --pull-request appgardenstudios/hyaline-example/1 --issue appgardenstudios/hyaline-example/2 --issue appgardenstudios/hyaline-example/3 --output ./recommendations.md
```
Check what documentation in `./documentation.db` should be updated based on the changes in the pull request `appgardenstudios/hyaline-example/1` as well as the configuration in `./hyaline.yml`. It takes into account the content of the pull request `appgardenstudios/hyaline-example/1` and the issues `appgardenstudios/hyaline-example/2` and `appgardenstudios/hyaline-example/3`. If a comment already exists on the PR, the recommendations from the current run are merged with the recommendations from the previous run, and the comment is updated. Otherwise, a new comment is added with the current recommendations. The set of combined recommendations is output to `./recommendations.json`.

**Example**:
```
$ hyaline check pr --config ./hyaline.yml --documentation ./documentation.db --pull-request appgardenstudios/hyaline-example/1 --issue appgardenstudios/hyaline-example/2 --issue appgardenstudios/hyaline-example/3 --output-current ./current-recommendations.md
```
Check what documentation in `./documentation.db` should be updated based on the changes in the pull request `appgardenstudios/hyaline-example/1` as well as the configuration in `./hyaline.yml`. It takes into account the content of the pull request `appgardenstudios/hyaline-example/1` and the issues `appgardenstudios/hyaline-example/2` and `appgardenstudios/hyaline-example/3`. If a comment already exists on the PR, the recommendations from the current run are merged with the recommendations from the previous run, and the comment is updated. Otherwise, a new comment is added with the current recommendations. The set of recommendations from the current run is output to `./current-recommendations.json`

## audit documentation
`hyaline audit documentation` audits documentation against configurable rule checks to ensure compliance with documentation standards.

**Options**:
* `--config` - (required) Path to the config file
* `--documentation` - (required) Path to the documentation database (output of `hyaline extract documentation`)
* `--source` - (optional, multiple allowed) Only audit specific source ID(s). Can be specified multiple times
* `--output` - (required) Path to write the audit results JSON file (file must not already exist)

**Example**:
```
$ hyaline audit documentation --config ./hyaline.yml --documentation ./documentation.db --output ./audit-results.json
```
Audit all documentation in `./documentation.db` against the rules defined in `./hyaline.yml` and output the results to `./audit-results.json`.

**Example**:
```
$ hyaline audit documentation --config ./hyaline.yml --documentation ./documentation.db --source source1 --source source2 --output ./audit-results.json
```
Audit only specific sources (`source1` and `source2`) in `./documentation.db` against the rules defined in `./hyaline.yml` and output the results to `./audit-results.json`.

## merge documentation
`hyaline merge documentation` merges 2 or more documentation data sets into a single output database.

**Options**:
* `--input` - (required, multiple allowed) Path of the sqlite databases to merge. At least 2 inputs are required
* `--output` - (required) Path of the sqlite database to create

**Example**:
```
$ hyaline merge documentation --input ./docs1.db --input ./docs2.db --output ./merged.db
```
Merge `./docs1.db` and `./docs2.db` into a single output database `./merged.db`.

**Example**:
```
$ hyaline merge documentation --input ./docs1.db --input ./docs2.db --input ./docs3.db --output ./merged.db
```
Merge multiple documentation databases `./docs1.db`, `./docs2.db`, and `./docs3.db` into a single output database `./merged.db`.

## serve mcp
`hyaline serve mcp` starts an MCP server running locally over stdio and serves up the documentation produced by running `hyaline extract documentation`.

**Options**:
* `--documentation` - (required) Path to the SQLite database containing documentation

**Example**:
```
$ hyaline serve mcp --documentation ./documentation.db
```
Start a local MCP server using the standard I/O transport and have it use the extracted documentation found in `./documentation.db`.

# Overview
Source: document://hyaline/www/content/documentation/reference/config.md

---
title: "Reference: Hyaline Config"
description: Configuration file schema including extract, check, and audit options
purpose: Document the configuration options for Hyaline
---
## Overview
This documents the configuration options and format present in the Hyaline configuration file.

Note that sections prefixed with **(Common)** are used in multiple places and are defined at the bottom.

## Secrets
Hyaline has the ability to pull configuration values from environment variables. To use this functionality set the value of a key to `${ENV_VAR_NAME}` to use the value of the environment variable called `ENV_VAR_NAME`.

```yaml
llm:
  provider: anthropic
  model: claude-sonnet-4-20250514
  key: ${HYALINE_ANTHROPIC_KEY}

github:
  token: ${HYALINE_GITHUB_PAT}
```

In the configuration example above `llm.key` will be set to the value of the environment variable `HYALINE_ANTHROPIC_KEY`, and `github.token` will be set to the value of the environment variable `HYALINE_GITHUB_PAT`

## LLM
The connection information to use when calling out to an LLM.

```yaml
llm:
  provider: anthropic | testing
  model: model-identifier
  key: ${LLM_API_KEY}
```

**provider**: The provider to use when calling out to an LLM. possible values are `anthropic` and `testing`.

**model**: The LLM model to use. See each provider's documentation for a list of possible values.

**key**: The API key to use in requests. Note that this should be pulled from the environment and not hard-coded in the configuration file itself (see Secrets above)

## GitHub
The configuration for calling out to GitHub (not used for extraction, just for PR and issue retrieval during checks)

```yaml
github:
  token: ${GITHUB_PAT}
```

**token**: The GitHub token. Should be able to read pull requests and issues from relevant repositories when using `check diff`. Should be able to read pull requests, read issues, read/write issue comments, and read repo files when using `check pr`.

## Extract
Stores the configuration to use when extracting documentation.

```yaml
extract:
  source:
  crawler:
  extractors:
  metadata:
```

**source**: Metadata assigned to the source being extracted.

**crawler**: The crawler to use to extract documentation.

**extractors**: A list of extractors to use when extracting documentation.

**metadata**: Metadata to add to the extracted documents and sections.

### Extract Source
Metadata about the source being extracted.

```yaml
extract:
  source:
    id: Source1
    description: A description of this source
    root: git@github.com:appgardenstudios/hyaline.git
```

**id**: Each documentation source is assigned an ID. This ID must be unique across all documentation sources used within an organization. The ID must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`.

**description**: A description of this documentation source.

**root**: An optional override for the root of this documentation source. Normally this is calculated based on the crawler used, but this property can be used to override the derived root. See **Extract Crawler** for more information on how the source root is calculated.

### Extract Crawler
Crawler configuration for the documentation source being extracted.

A note about the source root: it is calculated using the following algorithm based on the crawler that is configured

- If `extract.source.root` is set then that value is used.
- Else if the crawler type is `fs` then the value of `crawler.options.path` is used.
- Else if the crawler type is `git`:
  - If `crawler.options.repo` is set then that value is used.
  - Else the value of `crawler.options.path` is used.
- Else if the crawler type is `http` then the scheme and host from `crawler.options.baseUrl` is used (e.g. `https://example.com`)

```yaml
extract:
  crawler:
    type: fs | git | http
    options: {...} # Dependent on the crawler type
    include: ["**/*.md"]
    exclude: ["LICENSE.md"]
```

**type**: The type of the crawler. For Documentation Sources there are three crawler types available: `fs`, `git`, and `http`. For more information see crawler details below.

**options**: The options for the crawler. Note that these are specific to the type of crawler. Please see below for the options available for each crawler.

**include**: The set of globs to include in the set of documentation during the crawling process. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. See crawl option details below for how path comparisons are made and how relative glob paths work.

**exclude**: The set of globs to exclude from the set of documentation during the crawling process. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. See crawl option below for how path comparisons are made and how relative glob paths work.

#### Extract Crawler Options (fs)
Crawl a file system path. If you have a local git repository use the git crawler with the `path` option instead.

Note that Include and Exclude globs are relative to the path specified.

Please see the explanation of [Extract](../explanation/extract.md) for more information.

```yaml
extract:
  crawler:
    type: fs
    options:
      path: path/to/documentation
```

**path**: The path that documentation will be crawled. If the path is not absolute it is joined with the current working directory to turn it into an absolute path. Note that the fs crawler uses [Root](https://pkg.go.dev/os@go1.24.1#Root) when scanning a directory, meaning that while symlinks are followed they must be within the Root to be crawled.

#### Extract Crawler Options (git)
Crawl a local or remote git repository. The behavior of the crawler when resolving a git repo is as follows:

- If `clone` is set:
  - If `path` is set, then the remote repo is cloned to path specified on disk
  - Else the remote repo is cloned into an in-memory file system
- Else:
  - If `path` is not set, error
  - Else open the local repository specified by `path` on disk

When cloning, authorization is handled as follows:

- If `auth.type` is `http`:
  - If `auth.username` is set, then basic auth uses that for the username
  - Else basic auth uses the value `git` for the username
  - Finally basic auth uses `auth.password` for the password
- If `auth.type` is `ssh`:
  - If `auth.user` is set, then ssh auth uses that for the user
  - Else ssh auth uses the value `git` for the user
  - Finally ssh auth uses the PEM key specified by `auth.pem` as the ssh auth key. Note that if `auth.password` is set it is used as the password when decoding in the PEM key.

For more information on how extraction works please see the documentation for [Extract](../explanation/extract.md).

Note that Include and Exclude globs are relative to the root of the repository.

```yaml
extract:
  crawler:
    type: git
    options:
      path: path/to/repo
      branch: main
```

```yaml
extract:
  crawler:
    type: git
    options:
      path: path/to/repo
      repo: git@github.com:appgardenstudios/hyaline.git
      branch: main
      clone: true
      auth:
        type: ssh
        options:
          user: git
          pem: -----BEGIN OPENSSH... # Or use an env var like ${HYALINE_SSH_PEM}
          password: pem-password... # Or use an env var like ${HYALINE_SSH_PWD}
```

```yaml
extract:
  crawler:
    type: git
    options:
      repo: https://github.com/appgardenstudios/hyaline-example.git
      branch: main
      clone: true
      auth:
        type: http
        options:
          username: git
          password: github_pat_... # Or use an env var like ${HYALINE_GITHUB_PAT}
```

**path**: The local path to the repository. If the path is not absolute it is joined with the current working directory to turn it into an absolute path. If `clone` is false the repository at path is opened. If `clone` is true the repository is cloned to the path before being opened. `path` is required if `clone` is false.

**repo**: The remote git repository to use. Can be an ssh or http(s) URL. Only required if `clone` is true.

**branch**: The branch to crawl. If not set will default to `main`. Tries to resolve to a local branch first, then a remote branch (if there is a single remote), and finally a tag.

**clone**: Boolean specifying wether or not to clone the repository before opening. If true `repo` is also required. Defaults to false.

**auth**: Authentication information for cloning the repository. Note that if no auth is specified Hyaline will still attempt to clone, and if the repo URL is ssh your local ssh configuration will be used automatically.

**auth.type**: The type of authentication. Can be either `ssh` or `http`. Type should match the type of repo URL supplied (Hyaline does __not__ attempt to auto-detect which auth option to use based on the repo URL).

**auth.options**: Authentication options based on the type specified.

**auth.options.user**: (`ssh`) The ssh user to use when cloning the repository. Defaults to `git`.

**auth.options.pem**: (`ssh`) The contents of the private key to use when cloning the repository. Note that the encoded pem must contain the standard newlines, so use double quotes a la `"-----BEGIN OPENSSH PRIVATE KEY-----\n..." when exporting it to the relevant environment variable.

**auth.options.username**: (`http`) The http username to use when cloning. Defaults to `git`.

**auth.options.password**: (`ssh` AND `http`) For `ssh`, the encryption password to use if the PEM contains a password encrypted PEM block. For `http` the password to use when cloning (will usually be a GitHub PAT or equivalent). 

#### Extract Crawler Options (http)
Crawl a local or remote http or https website.

Note that Include and Exclude globs are relative to the baseURL.

Please see the explanation of [Extract](../explanation/extract.md) for more information.

```yaml
extract:
  crawler:
    type: http
    options:
      baseUrl: https://www.hyaline.dev/
      start: ./documentation
      headers:
        custom-header: My Header Value
```

**baseUrl**: The base URL to start with. The baseUrl will be the starting URL if `start` is not defined. Also note that the crawler is limited to the same domain as that on the baseUrl.

**start**: An (optional) starting path relative to the baseURL. If set the crawler will start on the `baseUrl` joined with `start` path.

**headers**: A set of (optional) headers to include with each request.

### Extract Extractors
Extractor configuration for the documentation source being extracted.

A note about the extractor being used. The first extractor that matches the document path (relative to the root of the crawler) is used. If there is no extractor configured to handle the document an error is returned.

Please see the explanation of [Extract](../explanation/extract.md) for more information.

```yaml
extract:
  extractors:
    - type: md | html
      options: # Dependent on the extractor type
      include: ["**/*.md"]
      exclude: []
```

**type**: The type of documentation extractor. `md` and `html` are the currently supported types.

**options**: Options used when extracting documentation and converting it into markdown (if applicable).

**include**: The set of globs to match against during the extraction process. Crawled documents must match at least one glob in order to be extracted using the extractor. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths.

**exclude**: The set of globs to exclude from the set of documentation during the extraction process. Crawled documents must match at none of these globs in order to be extracted using the extractor. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths.

#### Extract Extractors Options
Extractor options based on the type of the extractor.

```yaml
extract:
  extractors:
    - type: md
      options: # There are no options for the md extractor
```

```yaml
extract:
  extractors:
    - type: html
      options:
        selector: main
```

**selector**: A css-style selector used to extract documentation when the type of documentation is html. Only documentation that is a child of this selector will be extracted. Uses [Cascadia](https://pkg.go.dev/github.com/andybalholm/cascadia). Please see the explanation of [Extract](../explanation/extract.md) for more information.

### Extract Metadata
Configuration about what metadata to add to the extracted documentation.

Note that the specified metadata (`purpose` and/or `tags`) is added to each document or section that matches. If only `document` is specified only matching documents have the metadata applied. If both `document` and `section` are specified only sections matching both `document` and `section` have the metadata applied.

Note that metadata is applied sequentially, meaning that any overlapping documents or sections will have their purpose(s) overwritten and the tags added to.

```yaml
extract:
  metadata:
    - document: README.md
      section: About
      purpose: My document or section purpose
      tags:
        - key: system
          value: my-app
```

**document**: A glob to match a set of documents. Documents must match this extractor to have metadata applied. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. `document` is required.

**section**: A glob to match a set of sections. Sections must match this extractor to have metadata applied. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. `section` is optional.

**purpose**: The purpose to associate with the specified document or section.

**tags**: The set of tags to associate with the specified document or section.

**tags[].key**: The key of the tag to add. Must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`.

**tags[].value**: The value of the tag to add. Must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`.

## Check
Stores the configuration to use when checking documentation.

```yaml
check:
  code:
  documentation:
  options:
```

**code**: The set of code to evaluate when checking for recommended updates.

**documentation**: The set of documentation to include when evaluating which documents/sections need to be updated.

**options**: Options used to configure how the check process runs.

### Check Code
Determine what code is included when checking for recommended updates. Only code that is included is used when evaluating what documentation should be updated, so only include code that affects documentation (i.e. source code and not tests or tool configuration files).

```yaml
check:
  code:
    include:
      - "**/*.js"
      - "package.json"
    exclude:
      - "old/**/*"
      - "**/*.test.js"
```

**include**: The set of globs dictating what code files to include and consider during the check process. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. Each glob is relative to the root of the repository.

**exclude**: The set of globs dictating what code files to exclude and not consider during the check process. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. Each glob is relative to the root of the repository.

### Check Documentation
Determine what documentation should be included in the set of documentation considered. Note that documents and sections must be included and not excluded to be considered when recommending what documentation to update.

```yaml
check:
  documentation:
    include:
      - source: "my-app"
        document: "**/*"
      - source: "**/*"
        tags:
          - key: system
            value: my-app
      - uri: document://product-docs/**/*
    exclude:
      - source: my-app
        document: README.md
        section: License
```

**include**: A set of Documentation Filters (see below) dictating what documentation is in scope of this check.

**exclude**: A set of Documentation Filters (see below) dictating what documentation is not in scope of this check.

### Check Options
Various options used when checking what documentation needs to be updated based on a code change.

```yaml
check:
  options:
    detectDocumentationUpdates:
    updateIf:
```

**detectDocumentationUpdates**: Option to detect documentation updates and mark recommendations as changed.

**updateIf**: Options to link code and documents so that code changes will generate documentation update recommendations based on the configuration.

#### Check Options DetectDocumentationUpdates
Detect documentation updates and mark recommendations as changed.

```yaml
check:
  options:
    detectDocumentationUpdates:
      source: my-app
```

**source**: If set, Hyaline will mark documents and sections as changed if they 1) have the same source and 2) the document was touched as a part of the change being examined (i.e. the document was changed in the diff or the pull request)

#### Check Options UpdateIf
Configure Hyaline to recommend that documentation be updated if a corresponding file change occurs.

```yaml
check:
  options:
    updateIf:
      touched: [...]
      added: [...]
      modified: [...]
      deleted: [...]
      renamed: [...]
```

**touched**: A list of UpdateIf Entries (see UpdateIf Entry below) detailing that this document should be updated if any matching files are touched (e.g. added, modified, deleted, or renamed).

**added**: A list of UpdateIf Entries (see UpdateIf Entry below) detailing that this document should be updated if any matching files are added (e.g. created or inserted).

**modified**: A list of UpdateIf Entries (see UpdateIf Entry below) detailing that this document should be updated if any matching files are modified (e.g. changed).

**deleted**: A list of UpdateIf Entries (see UpdateIf Entry below) detailing that this document should be updated if any matching files are deleted (e.g. removed).

**renamed**: A list of UpdateIf Entries (see UpdateIf Entry below) detailing that this document should be updated if any matching files are renamed (e.g. moved).

##### **Check Options UpdateIf Entry**
An entry that specifies that matching documentation should be updated if matching code was changed.

```yaml
check:
  options:
    updateIf:
      touched: # A list of UpdateIf Entries
        - code:
            path: "src/routes.js"
          documentation: # A Documentation Filter
            source: "my-app"
            document: "docs/routes.md"
```

**code**: The code that triggers the update.

**code.path**: A glob dictating what code files to match. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. The glob is relative to the root of the repository.

**documentation**: The Documentation Filter (see below) that determines which documentation to match.

## Audit
Stores the configuration to use when auditing documentation.

```yaml
audit:
  rules:
```

**rules**: A list of audit rules to evaluate against the documentation.

### Audit Rules
Define specific checks to run against your documentation.

```yaml
audit:
  rules:
    - id: "content-exists-check"
      description: "Check that critical documentation exists"
      documentation:
        - source: "**/*"
          document: "README.md"
      ignore:
        - source: "internal"
      checks:
        content:
        purpose:
        tags:
```

**id**: A unique identifier for the rule. Must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`. If not provided, an auto-generated ID will be assigned (e.g., `_0`, `_1`).

**description**: A human-readable description of what this rule audits.

**documentation**: A list of Documentation Filters (see below) dictating what documentation this rule applies to. At least one filter is required.

**ignore**: A list of Documentation Filters (see below) dictating what documentation to exclude from this rule's evaluation.

**checks**: The validation checks to perform on matching documentation.

#### Audit Rules Checks Content
Validate the content of documentation.

```yaml
audit:
  rules:
    - checks:
        content:
          exists: true
          min-length: 100
          matches-regex: "(?i)installation"
          matches-prompt: "Does this document contain deployment instructions?"
          matches-purpose: true
```

**exists**: Boolean indicating whether the content must exist. When true, the check passes if at least one document or section matches the documentation filters. When false or not set, this check is disabled.

**min-length**: Minimum required content length in characters. The check fails if the content is shorter than this value. When not set, this check is disabled.

**matches-regex**: A regular expression pattern that the content must match. When not set, this check is disabled.

**matches-prompt**: An LLM prompt to evaluate against the content. The LLM will assess whether the content satisfies the prompt's criteria. When not set, this check is disabled.

**matches-purpose**: Boolean indicating whether the content should match its defined purpose. Requires the document or section to have a purpose defined. When false or not set, this check is disabled.

#### Audit Rules Checks Purpose
Validate that documentation has defined purposes.

```yaml
audit:
  rules:
    - checks:
        purpose:
          exists: true
```

**exists**: Boolean indicating whether a purpose must be defined for the documentation. When false or not set, this check is disabled.

#### Audit Rules Checks Tags
Validate the presence of specific tags on documentation.

```yaml
audit:
  rules:
    - checks:
        tags:
          contains:
            - key: "type"
              value: ".*guide"
            - key: "level"
              value: "beginner"
```

**contains**: A list of tags that must be present on the documentation. When set, the check passes if documentation has all of the listed tags. When not set, this check is disabled.

**contains[n].key**: The tag key to check for. Uses regex pattern matching.

**contains[n].value**: The tag value to check for. Uses regex pattern matching.

## (Common) Documentation Filter
A filter to use to select a subset of documentation.

```yaml
check:
  documentation:
    include: # An array of Documentation Filters
      - source: "my-app"
      - source: "api"
        document: "my-app/**/*"
      - source: "security"
        document: "frontend.md"
        section: "my-app"
      - source: "**/*"
        tags:
          - key: system
            value: my-app
      - uri: document://product-docs/**/*
```

**source**: A glob that matches against a document or section's source ID. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths. Must be set if `uri` is not set.

**document**: A glob that matches against a document or section's document ID. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths.

**section**: A glob that matches against a section's section ID. This uses the [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) package to match paths.

**tags**: A set of tags to match the document or section against.

**tags[n].key**: A tag key. Must match `/^[A-z0-9][A-z0-9_-]{0,63}$/`

**tags[n].value**: A tag value. Must match `/^[A-z0-9][A-z0-9_-]{0,63}$/`

**uri**: An encoded document URI in the format of `document://<source-id>/<path/of/document.md>#<path/of/section>`. Must start with `document://` and contain at least a source and document glob. Each section (source, document, section) must be a valid [doublestar](https://pkg.go.dev/github.com/bmatcuk/doublestar/v4) glob. Must be set if `source` is not set.

# Overview
Source: document://hyaline/www/content/documentation/reference/data-set.md

---
title: "Reference: Documentation Data Set"
description: SQLite database schema for current and change data sets
purpose: Detail the schema and usage of the Hyaline data set
---

## Overview
This documents the database schema of the Hyaline Documentation Data Set as generated by the command `hyaline extract documentation` and stored in sqlite.

![Data Set Schema](_img/data-set-schema.svg)

## Tables
The following tables make up a Hyaline Documentation Data Set.

### SOURCE
The Documentation Source, along with some metadata.

- **ID** - The source ID, pulled from the configuration. This must be globally unique and match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`.
- **DESCRIPTION** - A description of the source, used for informing the llm about the purpose and contents of the documents and sections contained within this source. May be blank.
- **CRAWLER** - The type of the extractor. One of `fs`, `git`, `http`.
- **ROOT** - The "root" of this documentation source. The document's path should always be relative to this root. ROOT is used during the check diff/pr process to determine which documents and/or sections have been updated. Must not be blank.

**Primary Key**: (ID)

### DOCUMENT
A document.

- **ID** - The ID of the document, determined by the path to the document relative to the root of the source (`SOURCE.ROOT`). Must be unique within the source. Must not be blank.
- **SOURCE_ID** - The ID if the source this document belongs to. Points to `SOURCE.ID`.
- **TYPE** - The type of document. One of `md`, `html`.
- **PURPOSE** - The purpose of this document. Set via metadata during the extraction process. May be blank.
- **RAW_DATA** - The raw document in its original form. May be blank.
- **EXTRACTED_DATA** - The markdown representation of the document after being fully extracted. May be blank.

**Primary Key**: (ID, SOURCE_ID)

### SECTION
A section within a document.

- **ID** - The ID of the section, determined by the path to the section relative to the root of the document (`Section 1 > Section 1.1` becomes `Section 1/Section 1.1`. Note that slashes (`/`) are replaced with `_` in the section names during extraction. Must be unique within the source. May not be blank.
- **DOCUMENT_ID** - The ID if the document this section belongs to. Points to `DOCUMENT.ID`. Must not be blank.
- **SOURCE_ID** - The ID if the source this document belongs to. Points to `SOURCE.ID`. Must not be blank.
- **PARENT_ID** - The ID if the section this section belongs to. Points to `SECTION.ID`. Must not be blank.
- **PEER_ORDER** - The order of the section in relation to its peers. 0-based. Must not be blank.
- **NAME** - The original name of the section (including any `/`). May be blank (if section name is empty).
- **PURPOSE** - The purpose of this section. Set via metadata during the extraction process. May be blank.
- **EXTRACTED_DATA** - The markdown contents of this section. Note that any child sections are included in this data. May be blank.

**Primary Key**: (ID, DOCUMENT_ID, SOURCE_ID)

### DOCUMENT_TAG
A tag associated with a document.

- **SOURCE_ID** - The ID if the source this tag belongs to. Points to `SOURCE.ID`. Must not be blank.
- **DOCUMENT_ID** - The ID if the document this tag belongs to. Points to `DOCUMENT.ID`. Must not be blank.
- **TAG_KEY** - The value of the key for this tag (aka the tag name). Must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`. Note that the prefix `_` is reserved for internal use if needed in the future.
- **TAG_VALUE** - The value of this tag (aka the tag value). Must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`.

**Primary Key**: (SOURCE_ID, DOCUMENT_ID, TAG_KEY, TAG_VALUE)

**Index**: (TAG_KEY, TAG_VALUE)

### SECTION_TAG
A tag associated with a section.

- **SOURCE_ID** - The ID if the source this tag belongs to. Points to `SOURCE.ID`. Must not be blank.
- **DOCUMENT_ID** - The ID if the document this tag belongs to. Points to `DOCUMENT.ID`. Must not be blank.
- **SECTION_ID** - The ID if the section this tag belongs to. Points to `SECTION.ID`. Must not be blank.
- **TAG_KEY** - The value of the key for this tag (aka the tag name). Must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`. Note that the prefix `_` is reserved for internal use if needed in the future.
- **TAG_VALUE** - The value of this tag (aka the tag value). Must match the regex `/^[A-z0-9][A-z0-9_-]{0,63}$/`.

**Primary Key**: (SOURCE_ID, DOCUMENT_ID, SECTION_ID, TAG_KEY, TAG_VALUE)

**Index**: (TAG_KEY, TAG_VALUE)

# Overview
Source: document://hyaline/www/content/documentation/reference/github-actions.md

---
title: "Reference: GitHub Actions"
description: An overview of the available GitHub actions to integrate Hyaline into a workflow
purpose: Detail the functionality and usage of Hyaline within GitHub Actions
---
## Overview

<div class="portrait">

![Overview](_img/github-actions-overview.svg)

Hyaline comes with a set of [GitHub Actions](https://github.com/features/actions) that allows you to setup and use Hyaline within a GitHub workflow.

When a developer pushes code to a Pull Request in GitHub, one or more GitHub Actions are triggered. Those actions can then run jobs such as checking out code, installing Hyaline, ensuring a pull request is updating all applicable documentation, etc.

Hyaline provides the following GitHub Actions:

- **Setup** - Install and Setup Hyaline in your workflow
- **Check PR** - Check a PR for recommended documentation updates

</div>

## Setup
The [setup action](https://github.com/appgardenstudios/hyaline-actions/tree/main/setup) provides an easy way to download and install the Hyaline CLI on your GitHub Actions runner so you can run Hyaline commands.

The default configuration installs a hard-coded version of Hyaline that is updated alongside major Hyaline releases:
```yaml
steps:
  - uses: appgardenstudios/hyaline-actions/setup@v1
```

A specific version of the Hyaline CLI can be installed using:
```yaml
steps:
  - uses: appgardenstudios/hyaline-actions/setup@v1
    with:
      version: "v1-YYYY-MM-DD-HASH"
```

### Inputs
The action supports the following inputs:

* `version` - (optional) The version of the Hyaline CLI to install. This version must be present as a tagged [GitHub Release](https://github.com/appgardenstudios/hyaline/releases) and must be later than `v1-2025-08-08`.

### Outputs
This action is not configured to provide any outputs.

## Check PR
The [check-pr action](https://github.com/appgardenstudios/hyaline-actions/tree/main/check-pr) provides the ability to check a pull request and recommend documentation updates based on the change (the results of which are added as a comment on the Pull Request).

Note that Hyaline will update (overwrite) older versions of its own comment so that you only have a single comment from Hyaline containing all of its recommendations.

This is a sample workflow file that will configure Hyaline to check your PRs when they are not in a draft state:
```yaml
on:
  pull_request:
    types: [opened, reopened, synchronize, ready_for_review]

jobs:
  check-pr:
    runs-on: ubuntu-latest
    # Only run if PR is NOT a draft
    if: ${{ github.event.pull_request.draft == false }}
    permissions:
      pull-requests: write
    steps:
      - name: Setup Hyaline
        uses: appgardenstudios/hyaline-actions/setup@v1
      - name: Check PR
        uses: appgardenstudios/hyaline-actions/check-pr@v1
        with:
          config: ./hyaline.yml
          repository: ${{ github.repository }}
          pr_number: ${{ github.event.pull_request.number }}
        env:
          # Set env vars needed by the hyaline CLI when interpolating the hyaline config
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          ANTHROPIC_KEY: ${{ secrets.ANTHROPIC_KEY }}
```

Note that the `check-pr` job above requires the permission `pull-requests: write` to leave a comment on the pull request.

### Inputs
The action supports the following inputs:

* `config` - (required) The path to the hyaline configuration file relative to the root of the repository.
* `repository`  - (optional) The current GitHub repository (owner/repo).
* `pr_number` - (required) The pull request number.

### Outputs
This action provides the following outputs:

* `completed_recommendations` - The number of recommendations that have been checked and marked as completed.
* `outstanding_recommendations` - The number of recommendations that are unchecked and not marked as completed.
* `total_recommendations` - The total number of recommendations (sum of `completed_recommendations` and `outstanding_recommendations`)

# Overview
Source: document://hyaline/www/content/documentation/reference/mcp.md

---
title: "Reference: MCP"
description: MCP server tools and prompts for making extracted documentation available to LLMs
purpose: Detail the functionality of Hyaline's MCP server
---
## Overview
Hyaline provides a built-in MCP server that can make the [current data set](./data-set.md) extracted by Hyaline's [extract documentation](../explanation/extract.md) command available to LLMs. For information on how to set up and run the MCP server please see the [how to](../how-to/run-mcp.md) or the [cli reference](./cli.md).

## Tools
Hyaline's MCP server provides the following tools:

### list_documents
List all documents at or under the specified URI path, or all documents if no URI is provided. URIs follow this pattern: `document://<source-id>/<document-id>[?<key>=<value>]`.

**Arguments**
- `document_uri` - The URI path to list documents from (can be partial). Format: `document://<source-id>/<document-id>[?<key>=<value>]`. Query parameters filter results by tags (multiple values fo the same key are comma-separated). If not provided, lists all documents.

**Output**
A list of the documents available for the given URI. If a full URI is not given, documents scoped to the prefix are returned.

### get_documents
Get the contents of documents matching the specified URI, or all documents if no URI provided. Document URIs follow this pattern: `document://<source-id>/<document-id>[?<key>=<value>]`.

**Arguments**
- `document_uri` - The URI specifying which documents to retrieve (can be partial). Format: `document://<source-id>/<document-id>[?<key>=<value>]`. Query parameters filter results by tags. If not provided, retrieves all documents.

**Output**
One or more documents (including the contents of each document).

## Prompts
Hyaline's MCP server provides the following prompts:

### answer_question
Answer a question based on available documentation.

**Arguments**
- `question` - The question to answer

# Overview
Source: document://hyaline/www/content/documentation/reference/recommendations.md

---
title: "Reference: Recommendations"
description: JSON output format for recommendations produced by the check diff and check pr commands
purpose: Detail the JSON output format for recommendations produced by the check diff and check pr commands
---
## Overview
This documents the recommendations produced by the `check diff` and `check pr` commands.

## JSON Format
```js
{
  "recommendations": [
    {
      "source": "my-app",
      "document": "README.md",
      "section": [
        "Running Locally"
      ],
      "recommendation": "Consider reviewing and updating this documentation",
      "reasons": [
        {
          "reason": "Update this section if any files matching package.json were modified"
        }
      ],
      "changed": true,
      "checked" true
    }
  ],
  "head": "b4c5c736fd31d30a04067af9c0929d7dc42f049e",
  "base": "b564300250288b332d50e2925dbd25e98831adbd"
}
```

### Fields
A list of fields, their types, and a description of each.

| Field | Type | Description |
|-------|------|-------------|
| recommendations | Array | The array of recommendations |
| recommendations[n] | Object | A result |
| recommendations[n].source | String | The documentation source ID |
| recommendations[n].document | String | The name of the document |
| recommendations[n].section | Array | If not empty, the section (including parent sections) |
| recommendations[n].section[n] | String | The section name |
| recommendations[n].recommendation | String | The recommendation |
| recommendations[n].reasons | Array | A list of reasons |
| recommendations[n].reasons[n] | Object | A reason |
| recommendations[n].reasons[n].reason | String | The human-readable reason |
| recommendations[n].changed | Boolean | If the document or section was changed in the diff |
| recommendations[n].checked | Boolean | If the recommendation has been checked (such as by updating the recommended document or section) |
| head | String | The commit hash used as the head reference in the diff |
| base | String | The commit hash used as the base reference in the diff |

# Main Focus
Source: document://hyaline/www/content/documentation/roadmap.md

---
title: Roadmap
description: "Current development focus and upcoming features planned for Hyaline."
purpose: Explain at a high level what is coming for Hyaline
---
## Main Focus
* Gathering and responding to feedback
* Implementing centralized configuration

## Up Next
* Improving the onboarding experience
* Recommendation refinements

# Security
Source: document://hyaline/www/content/security.md

---
title: Security
purpose: Provide an overview of the security practices and policies of Hyaline
---

# Security

Hyaline is designed with security and privacy as core principles. This page outlines our security practices and what you can expect when using Hyaline.

## Data Privacy

**We don't see your code or documentation.** Hyaline runs entirely on your infrastructure - whether that's your local machine, CI environment, or your own servers. Your source code and documentation never leave your control.

**No data collection.** Hyaline does not send usage analytics, telemetry, or any other data to our servers. We have no visibility into how you use the tool or what content you're processing.

## Local Operation

Hyaline operates as a standalone CLI tool that:

- Reads your source code and documentation from locations you specify
- Writes data to a SQLite database at a path you control
- Runs an MCP server locally for integration with AI tools

## Network Communications

Hyaline only makes network requests when you explicitly configure it to:

- **Source code repositories**: If you configure git extractors to clone remote repositories
- **Documentation sources**: If you configure HTTP extractors to crawl documentation websites
- **LLM API calls**: If you provide an API key for LLM services (like Anthropic's Claude)

These connections are made directly from your environment to the configured services - Hyaline does not proxy or intercept this traffic.

## File System Access

Hyaline requires:

- **Read access** to your source code and documentation files as specified in your configuration
- **Write access** to create and update the SQLite database you specify

The tool respects standard file system permissions and only accesses files within the paths you configure.

## Authentication & Secrets

When working with remote repositories or LLM APIs, Hyaline supports:

- Environment variable substitution for API keys and tokens
- SSH key authentication for git repositories
- HTTP authentication for private repositories

**Best practice**: Store all sensitive credentials as environment variables rather than hard-coding them in configuration files.

## MCP Server

The MCP server runs locally and provides your documentation to AI tools. Currently:

- No authentication or access controls are implemented
- The server only runs on your local machine
- Access is limited to applications you explicitly connect to the server

## Reporting Security Issues

If you discover a security vulnerability in Hyaline, please report it to us at:

**Email**: [support@hyaline.dev](mailto:support@hyaline.dev)

We take security issues seriously and will respond promptly to any reports.